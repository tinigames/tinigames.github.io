window.__require=function e(t,a,n){function o(s,r){if(!a[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+s+"'")}}var u=a[s]={exports:{}};t[s][0].call(u.exports,function(e){return o(t[s][1][e]||e)},u,u.exports,e,t,a,n)}return a[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({AIPlayer1:[function(e,t,a){"use strict";cc._RF.push(t,"70231lejhFKNpZNvzFAXCVV","AIPlayer1"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./global"),o=e("./game"),i=cc._decorator,s=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NULLPOS=cc.v2(-1,-1),t.totalcompleteCase1=0,t.returnposcase1=t.NULLPOS,t.thelastResultList=[],t.currentMaxlength=0,t.attackPointBest=n.default.instance.NULLPOS,t.totalcompleteCase2=0,t.totalcompleteCase3=0,t.totalcompleteCase4=0,t.returnposcase4=t.NULLPOS,t}var a;return __extends(t,e),a=t,Object.defineProperty(t,"instance",{get:function(){return null==a._instance?(cc.error("Game instance is not init yet"),null):a._instance},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){a._instance=this},t.prototype.checkReturnVector=function(e,t){return e!=this.NULLPOS?e:t!=this.NULLPOS?t:this.NULLPOS},t.prototype.checkCompleteCase1=function(e){this.totalcompleteCase1=0,this.returnposcase1=this.NULLPOS;var t=this.checkCompletCase1Left(e);this.totalcompleteCase1=0,this.returnposcase1=this.NULLPOS;var a=this.checkCompletCase1Right(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase1Left=function(e){if(n.default.instance.gamemap[e.x][e.y]==o.PlayerID.PLAYER2)this.totalcompleteCase1++,this.thelastResultList.length<3&&this.thelastResultList.push(e),this.checkCompletCase1Left(cc.v2(e.x-1,e.y));else{if(this.totalcompleteCase1<2)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase1>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase1,this.attackPointBest=e),this.returnposcase1=e,e}return this.returnposcase1},t.prototype.checkCompletCase1Right=function(e){if(n.default.instance.gamemap[e.x][e.y]==o.PlayerID.PLAYER2)this.totalcompleteCase1++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase1Right(cc.v2(e.x+1,e.y));else{if(this.totalcompleteCase1<2)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase1>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase1,this.attackPointBest=e),this.returnposcase1=e,e}return this.returnposcase1},t.prototype.checkCompleteCase2=function(e){this.totalcompleteCase2=0,this.returnposcase2=this.NULLPOS;var t=this.checkCompletCase2Up(e);this.totalcompleteCase2=0,this.returnposcase2=this.NULLPOS;var a=this.checkCompletCase2Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase2Up=function(e){if(n.default.instance.gamemap[e.x][e.y]==o.PlayerID.PLAYER2)this.totalcompleteCase2++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase2Up(cc.v2(e.x-1,e.y+1));else{if(this.totalcompleteCase2<2)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase2>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase2,this.attackPointBest=e),this.returnposcase2=e,e}return this.returnposcase2},t.prototype.checkCompletCase2Down=function(e){if(n.default.instance.gamemap[e.x][e.y]==o.PlayerID.PLAYER2)this.totalcompleteCase2++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase2Down(cc.v2(e.x+1,e.y-1));else{if(this.totalcompleteCase2<2)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase2>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase2,this.attackPointBest=e),this.returnposcase2=e,e}return this.returnposcase2},t.prototype.checkCompleteCase3=function(e){this.totalcompleteCase3=0,this.returnposcase3=this.NULLPOS;var t=this.checkCompletCase3Up(e);this.returnposcase3=this.NULLPOS,this.totalcompleteCase3=0;var a=this.checkCompletCase3Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase3Up=function(e){if(n.default.instance.gamemap[e.x][e.y]==o.PlayerID.PLAYER2)this.totalcompleteCase3++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase3Up(cc.v2(e.x,e.y+1));else{if(this.totalcompleteCase3<2)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase3>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase3,this.attackPointBest=e),this.returnposcase3=e,e}return this.returnposcase3},t.prototype.checkCompletCase3Down=function(e){if(n.default.instance.gamemap[e.x][e.y]==o.PlayerID.PLAYER2)this.totalcompleteCase3++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase3Down(cc.v2(e.x,e.y-1));else{if(this.totalcompleteCase3<2)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase3>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase3,this.attackPointBest=e),this.returnposcase3=e,e}return this.returnposcase3},t.prototype.checkCompleteCase4=function(e){this.totalcompleteCase4=0,this.returnposcase4=this.NULLPOS;var t=this.checkCompletCase4Up(e);this.totalcompleteCase4=0,this.returnposcase4=this.NULLPOS;var a=this.checkCompletCase4Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase4Up=function(e){if(n.default.instance.gamemap[e.x][e.y]==o.PlayerID.PLAYER2)this.totalcompleteCase4++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase4Up(cc.v2(e.x+1,e.y+1));else{if(this.totalcompleteCase4<2)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase4>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase4,this.attackPointBest=e),this.returnposcase4=e,e}return this.returnposcase4},t.prototype.checkCompletCase4Down=function(e){if(n.default.instance.gamemap[e.x][e.y]==o.PlayerID.PLAYER2)this.totalcompleteCase4++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase4Down(cc.v2(e.x-1,e.y-1));else{if(this.totalcompleteCase4<2)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase4>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase4,this.attackPointBest=e),this.returnposcase4=e,e}return this.returnposcase4},t.prototype.freeMapCell=function(e){return!(0!=n.default.instance.gamemap[e.x][e.y]||!n.default.instance.checkValidArea(e))},t.prototype.getAttackPoint=function(){var e=this,t=[];return this.currentMaxlength=0,this.attackPointBest=n.default.instance.NULLPOS,n.default.instance.AITurnPosList.forEach(function(a){var n=e.checkCompleteCase1(a),o=e.checkCompleteCase2(a),i=e.checkCompleteCase3(a),s=e.checkCompleteCase4(a);n!=e.NULLPOS&&t.push(n),o!=e.NULLPOS&&t.push(o),i!=e.NULLPOS&&t.push(i),s!=e.NULLPOS&&t.push(s)}),this.attackPointBest!=n.default.instance.NULLPOS?this.attackPointBest:n.default.instance.NULLPOS},t.prototype.start=function(){},t.prototype.update=function(e){},t._instance=null,t=a=__decorate([s],t)}(cc.Component));a.default=r,cc._RF.pop()},{"./game":"game","./global":"global"}],AIPlayer2:[function(e,t,a){"use strict";cc._RF.push(t,"6bdc1kGxR5HxbT2ZrRMhNLi","AIPlayer2"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./global"),o=e("./game"),i=cc._decorator,s=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NULLPOS=cc.v2(-1,-1),t.totalcompleteCase1=0,t.returnposcase1=n.default.instance.NULLPOS,t.thelastResultList=[],t.totalcompleteCase2=0,t.totalcompleteCase3=0,t.totalcompleteCase4=0,t.returnposcase4=n.default.instance.NULLPOS,t}var a;return __extends(t,e),a=t,Object.defineProperty(t,"instance",{get:function(){return null==a._instance?(cc.error("Game instance is not init yet"),null):a._instance},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){a._instance=this},t.prototype.checkReturnVector=function(e,t){return e!=n.default.instance.NULLPOS?e:t!=n.default.instance.NULLPOS?t:n.default.instance.NULLPOS},t.prototype.checkCompleteCase1=function(e){this.totalcompleteCase1=0,this.returnposcase1=n.default.instance.NULLPOS;var t=this.checkCompletCase1Left(e);this.totalcompleteCase1=0,this.returnposcase1=n.default.instance.NULLPOS;var a=this.checkCompletCase1Right(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase1Left=function(e){return n.default.instance.gamemap[e.x][e.y]!=o.PlayerID.PLAYER1?this.totalcompleteCase1<2?(this.thelastResultList=[],n.default.instance.NULLPOS):this.freeMapCell(e)&&n.default.instance.gamemap[e.x-1][e.y]==o.PlayerID.PLAYER1?(this.returnposcase1=e,e):n.default.instance.NULLPOS:(this.totalcompleteCase1++,this.thelastResultList.length<3&&this.thelastResultList.push(e),this.checkCompletCase1Left(cc.v2(e.x-1,e.y)),this.returnposcase1)},t.prototype.checkCompletCase1Right=function(e){return n.default.instance.gamemap[e.x][e.y]!=o.PlayerID.PLAYER1?this.totalcompleteCase1<2?(this.thelastResultList=[],n.default.instance.NULLPOS):this.freeMapCell(e)&&n.default.instance.gamemap[e.x+1][e.y]==o.PlayerID.PLAYER1?(this.returnposcase1=e,e):n.default.instance.NULLPOS:(this.totalcompleteCase1++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase1Right(cc.v2(e.x+1,e.y)),this.returnposcase1)},t.prototype.checkCompleteCase2=function(e){this.totalcompleteCase2=0,this.returnposcase2=n.default.instance.NULLPOS;var t=this.checkCompletCase2Up(e);this.totalcompleteCase2=0,this.returnposcase2=n.default.instance.NULLPOS;var a=this.checkCompletCase2Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase2Up=function(e){return n.default.instance.gamemap[e.x][e.y]!=o.PlayerID.PLAYER1?this.totalcompleteCase2<2?(this.thelastResultList=[],n.default.instance.NULLPOS):this.freeMapCell(e)&&n.default.instance.gamemap[e.x-1][e.y+1]==o.PlayerID.PLAYER1?(this.returnposcase2=e,e):n.default.instance.NULLPOS:(this.totalcompleteCase2++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase2Up(cc.v2(e.x-1,e.y+1)),this.returnposcase2)},t.prototype.checkCompletCase2Down=function(e){return n.default.instance.gamemap[e.x][e.y]!=o.PlayerID.PLAYER1?this.totalcompleteCase2<2?(this.thelastResultList=[],n.default.instance.NULLPOS):this.freeMapCell(e)&&n.default.instance.gamemap[e.x+1][e.y-1]==o.PlayerID.PLAYER1?(this.returnposcase2=e,e):n.default.instance.NULLPOS:(this.totalcompleteCase2++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase2Down(cc.v2(e.x+1,e.y-1)),this.returnposcase2)},t.prototype.checkCompleteCase3=function(e){this.totalcompleteCase3=0,this.returnposcase3=n.default.instance.NULLPOS;var t=this.checkCompletCase3Up(e);this.returnposcase3=n.default.instance.NULLPOS,this.totalcompleteCase3=0;var a=this.checkCompletCase3Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase3Up=function(e){return n.default.instance.gamemap[e.x][e.y]!=o.PlayerID.PLAYER1?this.totalcompleteCase3<2?(this.thelastResultList=[],n.default.instance.NULLPOS):this.freeMapCell(e)&&n.default.instance.gamemap[e.x][e.y+1]==o.PlayerID.PLAYER1?(this.returnposcase3=e,e):n.default.instance.NULLPOS:(this.totalcompleteCase3++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase3Up(cc.v2(e.x,e.y+1)),this.returnposcase3)},t.prototype.checkCompletCase3Down=function(e){return n.default.instance.gamemap[e.x][e.y]!=o.PlayerID.PLAYER1?this.totalcompleteCase3<2?(this.thelastResultList=[],n.default.instance.NULLPOS):this.freeMapCell(e)&&n.default.instance.gamemap[e.x][e.y-1]==o.PlayerID.PLAYER1?(this.returnposcase3=e,e):n.default.instance.NULLPOS:(this.totalcompleteCase3++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase3Down(cc.v2(e.x,e.y-1)),this.returnposcase3)},t.prototype.checkCompleteCase4=function(e){this.totalcompleteCase4=0,this.returnposcase4=n.default.instance.NULLPOS;var t=this.checkCompletCase4Up(e);this.totalcompleteCase4=0,this.returnposcase4=n.default.instance.NULLPOS;var a=this.checkCompletCase4Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase4Up=function(e){return n.default.instance.gamemap[e.x][e.y]!=o.PlayerID.PLAYER1?this.totalcompleteCase4<2?(this.thelastResultList=[],n.default.instance.NULLPOS):this.freeMapCell(e)&&n.default.instance.gamemap[e.x+1][e.y+1]==o.PlayerID.PLAYER1?(this.returnposcase4=e,e):n.default.instance.NULLPOS:(this.totalcompleteCase4++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase4Up(cc.v2(e.x+1,e.y+1)),this.returnposcase4)},t.prototype.checkCompletCase4Down=function(e){return n.default.instance.gamemap[e.x][e.y]!=o.PlayerID.PLAYER1?this.totalcompleteCase4<2?(this.thelastResultList=[],n.default.instance.NULLPOS):this.freeMapCell(e)&&n.default.instance.gamemap[e.x-1][e.y-1]==o.PlayerID.PLAYER1?(this.returnposcase4=e,e):n.default.instance.NULLPOS:(this.totalcompleteCase4++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase4Down(cc.v2(e.x-1,e.y-1)),this.returnposcase4)},t.prototype.freeMapCell=function(e){return!(0!=n.default.instance.gamemap[e.x][e.y]||!n.default.instance.checkValidArea(e))},t.prototype.getDefenderPoint=function(){var e=this,t=n.default.instance.NULLPOS,a=[];return n.default.instance.HumanTurnPosList.forEach(function(o){var i=e.checkCompleteCase1(o),s=e.checkCompleteCase2(o),r=e.checkCompleteCase3(o),c=e.checkCompleteCase4(o);i!=n.default.instance.NULLPOS?t=i:s!=n.default.instance.NULLPOS?t=s:r!=n.default.instance.NULLPOS?t=r:c!=n.default.instance.NULLPOS&&(t=c),t!=n.default.instance.NULLPOS&&a.push(t)}),a.length>0?a[0]:n.default.instance.NULLPOS},t.prototype.start=function(){},t.prototype.update=function(e){},t._instance=null,t=a=__decorate([s],t)}(cc.Component));a.default=r,cc._RF.pop()},{"./game":"game","./global":"global"}],AIPlayerAttackDeep2:[function(e,t,a){"use strict";cc._RF.push(t,"8d625qAw/pPkbT+QS5Pdol6","AIPlayerAttackDeep2"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./global"),o=e("./utils"),i=e("./game"),s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NULLPOS=cc.v2(-1,-1),t.totalcompleteCase1=0,t.returnposcase1=t.NULLPOS,t.thelastResultList=[],t.currentMaxlength=0,t.attackPointBest=n.default.instance.NULLPOS,t.totalcompleteCase2=0,t.totalcompleteCase3=0,t.totalcompleteCase4=0,t.returnposcase4=t.NULLPOS,t}var a;return __extends(t,e),a=t,Object.defineProperty(t,"instance",{get:function(){return null==a._instance?(cc.error("Game instance is not init yet"),null):a._instance},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){a._instance=this},t.prototype.checkReturnVector=function(e,t){return e!=this.NULLPOS?e:t!=this.NULLPOS?t:this.NULLPOS},t.prototype.checkCompleteCase1=function(e){this.totalcompleteCase1=0,this.returnposcase1=this.NULLPOS;var t=this.checkCompletCase1Left(e);this.totalcompleteCase1=0,this.returnposcase1=this.NULLPOS;var a=this.checkCompletCase1Right(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase1Left=function(e){if(n.default.instance.gamemap[e.x][e.y]==i.PlayerID.PLAYER2)this.totalcompleteCase1++,this.thelastResultList.length<3&&this.thelastResultList.push(e),this.checkCompletCase1Left(cc.v2(e.x-1,e.y));else{if(this.totalcompleteCase1<1)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase1>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase1,this.attackPointBest=e),this.returnposcase1=e,e}return this.returnposcase1},t.prototype.checkCompletCase1Right=function(e){if(n.default.instance.gamemap[e.x][e.y]==i.PlayerID.PLAYER2)this.totalcompleteCase1++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase1Right(cc.v2(e.x+1,e.y));else{if(this.totalcompleteCase1<1)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase1>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase1,this.attackPointBest=e),this.returnposcase1=e,e}return this.returnposcase1},t.prototype.checkCompleteCase2=function(e){this.totalcompleteCase2=0,this.returnposcase2=this.NULLPOS;var t=this.checkCompletCase2Up(e);this.totalcompleteCase2=0,this.returnposcase2=this.NULLPOS;var a=this.checkCompletCase2Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase2Up=function(e){if(n.default.instance.gamemap[e.x][e.y]==i.PlayerID.PLAYER2)this.totalcompleteCase2++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase2Up(cc.v2(e.x-1,e.y+1));else{if(this.totalcompleteCase2<1)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase2>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase2,this.attackPointBest=e),this.returnposcase2=e,e}return this.returnposcase2},t.prototype.checkCompletCase2Down=function(e){if(n.default.instance.gamemap[e.x][e.y]==i.PlayerID.PLAYER2)this.totalcompleteCase2++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase2Down(cc.v2(e.x+1,e.y-1));else{if(this.totalcompleteCase2<1)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase2>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase2,this.attackPointBest=e),this.returnposcase2=e,e}return this.returnposcase2},t.prototype.checkCompleteCase3=function(e){this.totalcompleteCase3=0,this.returnposcase3=this.NULLPOS;var t=this.checkCompletCase3Up(e);this.returnposcase3=this.NULLPOS,this.totalcompleteCase3=0;var a=this.checkCompletCase3Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase3Up=function(e){if(n.default.instance.gamemap[e.x][e.y]==i.PlayerID.PLAYER2)this.totalcompleteCase3++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase3Up(cc.v2(e.x,e.y+1));else{if(this.totalcompleteCase3<1)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase3>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase3,this.attackPointBest=e),this.returnposcase3=e,e}return this.returnposcase3},t.prototype.checkCompletCase3Down=function(e){if(n.default.instance.gamemap[e.x][e.y]==i.PlayerID.PLAYER2)this.totalcompleteCase3++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase3Down(cc.v2(e.x,e.y-1));else{if(this.totalcompleteCase3<1)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase3>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase3,this.attackPointBest=e),this.returnposcase3=e,e}return this.returnposcase3},t.prototype.checkCompleteCase4=function(e){this.totalcompleteCase4=0,this.returnposcase4=this.NULLPOS;var t=this.checkCompletCase4Up(e);this.totalcompleteCase4=0,this.returnposcase4=this.NULLPOS;var a=this.checkCompletCase4Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase4Up=function(e){if(n.default.instance.gamemap[e.x][e.y]==i.PlayerID.PLAYER2)this.totalcompleteCase4++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase4Up(cc.v2(e.x+1,e.y+1));else{if(this.totalcompleteCase4<1)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase4>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase4,this.attackPointBest=e),this.returnposcase4=e,e}return this.returnposcase4},t.prototype.checkCompletCase4Down=function(e){if(n.default.instance.gamemap[e.x][e.y]==i.PlayerID.PLAYER2)this.totalcompleteCase4++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase4Down(cc.v2(e.x-1,e.y-1));else{if(this.totalcompleteCase4<1)return this.thelastResultList=[],this.NULLPOS;if(this.freeMapCell(e))return this.totalcompleteCase4>this.currentMaxlength&&(this.currentMaxlength=this.totalcompleteCase4,this.attackPointBest=e),this.returnposcase4=e,e}return this.returnposcase4},t.prototype.freeMapCell=function(e){return!(0!=n.default.instance.gamemap[e.x][e.y]||!n.default.instance.checkValidArea(e))},t.prototype.getAttackPointDeep2=function(){var e=this,t=[];return this.currentMaxlength=0,this.attackPointBest=n.default.instance.NULLPOS,n.default.instance.AITurnPosList.forEach(function(a){var n=e.checkCompleteCase1(a),o=e.checkCompleteCase2(a),i=e.checkCompleteCase3(a),s=e.checkCompleteCase4(a);n!=e.NULLPOS&&t.push(n),o!=e.NULLPOS&&t.push(o),i!=e.NULLPOS&&t.push(i),s!=e.NULLPOS&&t.push(s)}),t.length>0?t[o.Utils.getDirectionRandom(t.length)]:n.default.instance.NULLPOS},t._instance=null,t=a=__decorate([r],t)}(cc.Component));a.default=c,cc._RF.pop()},{"./game":"game","./global":"global","./utils":"utils"}],AIPlayer:[function(e,t,a){"use strict";cc._RF.push(t,"c24e0K7Yk5BRpOalVGO0wt2","AIPlayer"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./global"),o=e("./game-computer"),i=e("./game"),s=e("./AIPlayer1"),r=e("./AIPlayer2"),c=e("./utils"),l=e("./AIPlayerAttackDeep2"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.NULLPOS=cc.v2(-1,-1),t.totalcompleteCase1=0,t.returnposcase1=t.NULLPOS,t.thelastResultList=[],t.totalcompleteCase2=0,t.totalcompleteCase3=0,t.totalcompleteCase4=0,t.returnposcase4=t.NULLPOS,t}var a;return __extends(t,e),a=t,Object.defineProperty(t,"instance",{get:function(){return null==a._instance?(cc.error("Game instance is not init yet"),null):a._instance},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){a._instance=this},t.prototype.checkReturnVector=function(e,t){return e!=this.NULLPOS?e:t!=this.NULLPOS?t:this.NULLPOS},t.prototype.checkCompleteCase1=function(e){this.totalcompleteCase1=0,this.returnposcase1=this.NULLPOS;var t=this.checkCompletCase1Left(e);this.totalcompleteCase1=0,this.returnposcase1=this.NULLPOS;var a=this.checkCompletCase1Right(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase1Left=function(e){return n.default.instance.gamemap[e.x][e.y]!=i.PlayerID.PLAYER1?this.totalcompleteCase1<3?(this.thelastResultList=[],this.NULLPOS):this.freeMapCell(e)?(this.totalcompleteCase1>n.default.instance.maxLengthDefend&&(n.default.instance.maxLengthDefend=this.totalcompleteCase1),this.returnposcase1=e,e):this.NULLPOS:(this.totalcompleteCase1++,this.thelastResultList.length<3&&this.thelastResultList.push(e),this.checkCompletCase1Left(cc.v2(e.x-1,e.y)),this.returnposcase1)},t.prototype.checkCompletCase1Right=function(e){return n.default.instance.gamemap[e.x][e.y]!=i.PlayerID.PLAYER1?this.totalcompleteCase1<3?(this.thelastResultList=[],this.NULLPOS):this.freeMapCell(e)?(this.totalcompleteCase1>n.default.instance.maxLengthDefend&&(n.default.instance.maxLengthDefend=this.totalcompleteCase1),this.returnposcase1=e,e):this.NULLPOS:(this.totalcompleteCase1++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase1Right(cc.v2(e.x+1,e.y)),this.returnposcase1)},t.prototype.checkCompleteCase2=function(e){this.totalcompleteCase2=0,this.returnposcase2=this.NULLPOS;var t=this.checkCompletCase2Up(e);this.totalcompleteCase2=0,this.returnposcase2=this.NULLPOS;var a=this.checkCompletCase2Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase2Up=function(e){return n.default.instance.gamemap[e.x][e.y]!=i.PlayerID.PLAYER1?this.totalcompleteCase2<3?(this.thelastResultList=[],this.NULLPOS):this.freeMapCell(e)?(this.totalcompleteCase2>n.default.instance.maxLengthDefend&&(n.default.instance.maxLengthDefend=this.totalcompleteCase2),this.returnposcase2=e,e):this.NULLPOS:(this.totalcompleteCase2++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase2Up(cc.v2(e.x-1,e.y+1)),this.returnposcase2)},t.prototype.checkCompletCase2Down=function(e){return n.default.instance.gamemap[e.x][e.y]!=i.PlayerID.PLAYER1?this.totalcompleteCase2<3?(this.thelastResultList=[],this.NULLPOS):this.freeMapCell(e)?(this.totalcompleteCase2>n.default.instance.maxLengthDefend&&(n.default.instance.maxLengthDefend=this.totalcompleteCase2),this.returnposcase2=e,e):this.NULLPOS:(this.totalcompleteCase2++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase2Down(cc.v2(e.x+1,e.y-1)),this.returnposcase2)},t.prototype.checkCompleteCase3=function(e){this.totalcompleteCase3=0,this.returnposcase3=this.NULLPOS;var t=this.checkCompletCase3Up(e);this.returnposcase3=this.NULLPOS,this.totalcompleteCase3=0;var a=this.checkCompletCase3Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase3Up=function(e){return n.default.instance.gamemap[e.x][e.y]!=i.PlayerID.PLAYER1?(cc.log("Total case 3 up: "+this.totalcompleteCase3),this.totalcompleteCase3<3?(this.thelastResultList=[],this.NULLPOS):this.freeMapCell(e)?(this.totalcompleteCase3>n.default.instance.maxLengthDefend&&(n.default.instance.maxLengthDefend=this.totalcompleteCase3),this.returnposcase3=e,e):this.NULLPOS):(this.totalcompleteCase3++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase3Up(cc.v2(e.x,e.y+1)),this.returnposcase3)},t.prototype.checkCompletCase3Down=function(e){return n.default.instance.gamemap[e.x][e.y]!=i.PlayerID.PLAYER1?this.totalcompleteCase3<3?(this.thelastResultList=[],this.NULLPOS):this.freeMapCell(e)?(this.totalcompleteCase3>n.default.instance.maxLengthDefend&&(n.default.instance.maxLengthDefend=this.totalcompleteCase3),this.returnposcase3=e,e):this.NULLPOS:(this.totalcompleteCase3++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase3Down(cc.v2(e.x,e.y-1)),this.returnposcase3)},t.prototype.checkCompleteCase4=function(e){this.totalcompleteCase4=0,this.returnposcase4=this.NULLPOS;var t=this.checkCompletCase4Up(e);this.totalcompleteCase4=0,this.returnposcase4=this.NULLPOS;var a=this.checkCompletCase4Down(e);return this.checkReturnVector(t,a)},t.prototype.checkCompletCase4Up=function(e){return n.default.instance.gamemap[e.x][e.y]!=i.PlayerID.PLAYER1?this.totalcompleteCase4<3?(this.thelastResultList=[],this.NULLPOS):this.freeMapCell(e)?(this.totalcompleteCase4>n.default.instance.maxLengthDefend&&(n.default.instance.maxLengthDefend=this.totalcompleteCase4),this.returnposcase4=e,e):this.NULLPOS:(this.totalcompleteCase4++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase4Up(cc.v2(e.x+1,e.y+1)),this.returnposcase4)},t.prototype.checkCompletCase4Down=function(e){return n.default.instance.gamemap[e.x][e.y]!=i.PlayerID.PLAYER1?this.totalcompleteCase4<3?(this.thelastResultList=[],this.NULLPOS):this.freeMapCell(e)?(this.totalcompleteCase4>n.default.instance.maxLengthDefend&&(n.default.instance.maxLengthDefend=this.totalcompleteCase4),this.returnposcase4=e,e):this.NULLPOS:(this.totalcompleteCase4++,this.thelastResultList.length<5&&this.thelastResultList.push(e),this.checkCompletCase4Down(cc.v2(e.x-1,e.y-1)),this.returnposcase4)},t.prototype.freeMapCell=function(e){return!(0!=n.default.instance.gamemap[e.x][e.y]||!n.default.instance.checkValidArea(e))},t.prototype.getGenericNextPoint=function(){var e=[],t=o.default.instance.getLastHumanTurnPoint();return this.freeMapCell(cc.v2(t.x+1,t.y))&&e.push(cc.v2(t.x+1,t.y)),this.freeMapCell(cc.v2(t.x-1,t.y))&&e.push(cc.v2(t.x-1,t.y)),this.freeMapCell(cc.v2(t.x,t.y+1))&&e.push(cc.v2(t.x,t.y+1)),this.freeMapCell(cc.v2(t.x,t.y+1))&&e.push(cc.v2(t.x,t.y+1)),this.freeMapCell(cc.v2(t.x-1,t.y+1))&&e.push(cc.v2(t.x-1,t.y+1)),this.freeMapCell(cc.v2(t.x+1,t.y+1))&&e.push(cc.v2(t.x+1,t.y+1)),this.freeMapCell(cc.v2(t.x+1,t.y-1))&&e.push(cc.v2(t.x+1,t.y-1)),this.freeMapCell(cc.v2(t.x-1,t.y-1))&&e.push(cc.v2(t.x-1,t.y-1)),e[c.Utils.getDirectionRandom(e.length)]},t.prototype.getDefenderPoint=function(){var e=this,t=this.NULLPOS,a=[],i=o.default.instance.getLastHumanTurnPoint();this.currentHumanPos=o.default.instance.getLastHumanTurnPoint();var s=this.checkCompleteCase1(i),c=this.checkCompleteCase2(i),l=this.checkCompleteCase3(i),u=this.checkCompleteCase4(i);if(s!=this.NULLPOS?t=s:c!=this.NULLPOS?t=c:l!=this.NULLPOS?t=l:u!=this.NULLPOS&&(t=u),t!=this.NULLPOS)return t;var p=r.default.instance.getDefenderPoint();if(p!=n.default.instance.NULLPOS)return n.default.instance.maxLengthDefend=6,p;var h=this.NULLPOS;return n.default.instance.HumanTurnPosList.forEach(function(t){var n=e.checkCompleteCase1(t),o=e.checkCompleteCase2(t),i=e.checkCompleteCase3(t),s=e.checkCompleteCase4(t);n!=e.NULLPOS?h=n:o!=e.NULLPOS?h=o:i!=e.NULLPOS?h=i:s!=e.NULLPOS&&(h=s),h!=e.NULLPOS&&a.push(h)}),a.length>0?a[0]:this.NULLPOS},t.prototype.getNextAIPlay=function(){n.default.instance.maxLengthDefend=0;var e=this.getDefenderPoint(),t=this.getGenericNextPoint(),a=s.default.instance.getAttackPoint(),o=l.default.instance.getAttackPointDeep2();return-1==e.x&&-1==e.y?a==n.default.instance.NULLPOS?o==n.default.instance.NULLPOS?t:o:a:n.default.instance.maxLengthDefend>s.default.instance.currentMaxlength?e:a==n.default.instance.NULLPOS?e:a},t.prototype.start=function(){},t.prototype.update=function(e){},t._instance=null,t=a=__decorate([p],t)}(cc.Component));a.default=h,cc._RF.pop()},{"./AIPlayer1":"AIPlayer1","./AIPlayer2":"AIPlayer2","./AIPlayerAttackDeep2":"AIPlayerAttackDeep2","./game":"game","./game-computer":"game-computer","./global":"global","./utils":"utils"}],Multiplayer:[function(e,t,a){"use strict";cc._RF.push(t,"9d558x9nWRFobkuX1QpxlY2","Multiplayer"),Object.defineProperty(a,"__esModule",{value:!0}),function(e){var t=function(){return function(){}}();e.RoomInfo=t;var a,n;(function(e){e[e.NONE=0]="NONE",e[e.ROOM_NOT_EXIST=1]="ROOM_NOT_EXIST",e[e.ROOM_FULL=2]="ROOM_FULL",e[e.NO_ROOM_ALIVE=3]="NO_ROOM_ALIVE",e[e.NOT_SUPPORTED=4]="NOT_SUPPORTED"})(a=e.ErrorCode||(e.ErrorCode={})),function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.PLAYER_JOINED=1]="PLAYER_JOINED",e[e.PLAYER_LEFT=2]="PLAYER_LEFT",e[e.PLAYER_DISCONNECT=3]="PLAYER_DISCONNECT",e[e.DATA_RECIEVED=4]="DATA_RECIEVED",e[e.GAME_STARTED=5]="GAME_STARTED",e[e.MASTER_ROOM_CHANGE=6]="MASTER_ROOM_CHANGE",e[e.KICKED_OUT=7]="KICKED_OUT",e[e.ROOM_CREATED=8]="ROOM_CREATED",e[e.ROOM_JOINED=9]="ROOM_JOINED"}(n=e.MessageCode||(e.MessageCode={}));var o=function(){return function(){}}();e.Error=o;var i=function(){return function(){}}();e.Player=i;var s=function(){return function(){}}(),r=function(){function e(e){this.rtcConfig={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"},{urls:"turn:turn.anyfirewall.com:443?transport=tcp",username:"webrtc",credential:"webrtc"},{urls:"turn:numb.viagenie.ca",username:"nqtham68@hotmail.com",credential:"123456?a"}]},this.gameId="",this.myRoomId="",this.myPlayer={id:"",name:"None"},this.masterPlayer={id:"",name:"None"},this.deathTime=18e5,this.gameStarted=!1,this.joinedRoom=!1,this.connections={},this.pendingIces={},this.players={},this.webrtc_support=!0,this.iInitialized=!1,this.onMessage=null,this.init(e)}return e.prototype.init=function(e){var t=this;if(this.gameId=e,this.signalChannel=new c,this.signalChannel.setSignalingListener(this.onSignaling.bind(this)),this.signalChannel.init(e,function(){console.log("multiplayer manager initiallized"),t.iInitialized=!0,t.onMessage&&t.onMessage(n.INITIALIZED,null),t.signalChannel.getTimeOffset(function(e){t.timeOffset=e,t.signalChannel.setConnect(!1)})}),RTCPeerConnection){var a=new RTCPeerConnection(null);a.createDataChannel||(this.webrtc_support=!1),a.close()}else this.webrtc_support=!1},e.prototype.isInitialized=function(){return this.iInitialized},e.prototype.startGame=function(){if(this.masterPlayer.id==this.myPlayer.id){var e=JSON.stringify({type:"__sys",message:"startgame"});for(var t in this.connections)this.connections[t].channel.send(e);this.gameStarted=!0,this.signalChannel.removeLobby(this.myRoomId),this.signalChannel.setConnect(!1)}else console.warn("Only host can start game")},e.prototype.setPlayerName=function(e){this.myPlayer.name=e},e.prototype.setPlayerId=function(e){this.myPlayer.id=e},e.prototype.getMyPlayer=function(){return this.myPlayer},e.prototype.getMasterPlayer=function(){return this.masterPlayer},e.prototype.isMaster=function(e){return this.masterPlayer.id===e},e.prototype.kickOut=function(e){this.masterPlayer.id==this.myPlayer.id?this.signalChannel.kickPlayer(this.myRoomId,{id:e,name:""}):console.warn("Only host can kick player out")},e.prototype.getPlayers=function(){return this.players},e.prototype.onSignaling=function(e,t){var a=this;if(e==c.SIGNAL_TYPE_OFFER){var o=new s;this.connections[t.from.id]=o,o.peer=new RTCPeerConnection(this.rtcConfig),o.peer.setRemoteDescription(new RTCSessionDescription(JSON.parse(t.sdp))),o.peer.createAnswer(function(e){if(o.peer.setLocalDescription(e),console.log("Answer create and send to remote "+t.from.name),a.signalChannel.sendAnswer(a.myRoomId,a.myPlayer,t.from,e),a.pendingIces[t.from.id]){for(var n=0;n<a.pendingIces[t.from.id].length;n++)console.log("Add ice from: "+t.from.name),a.connections[t.from.id].peer.addIceCandidate(new RTCIceCandidate(JSON.parse(a.pendingIces[t.from.id][n])));a.pendingIces[t.from.id]=null}},function(e){console.warn("Create offer for "+t.from.name+" failed")}),o.peer.onicecandidate=function(e){o.peer&&e&&e.candidate&&a.signalChannel.sendCandidate(a.myRoomId,a.myPlayer,t.from,e.candidate)},o.peer.ondatachannel=function(e){o.channel=e.channel,o.channel.onclose=function(){console.log("connection: "+t.from.name+" is close"),a.gameStarted&&a.onMessage&&a.onMessage(n.PLAYER_DISCONNECT,t.from)},o.channel.onopen=function(){console.log("connection: "+t.from.name+" is open")},o.channel.onerror=function(e){console.log("connection: "+t.from.name+" is error: "+e)},o.channel.onmessage=function(e){console.log("connection: "+t.from.name+" has message: "+e.data);var o=null;try{o=JSON.parse(e.data)}catch(e){}if(o&&o.type&&"__sys"===o.type)"startgame"==o.message&&(a.gameStarted=!0,a.signalChannel.setConnect(!1),a.onMessage&&a.onMessage(n.GAME_STARTED,null));else{var i={player:{id:t.from.id,name:t.from.name},data:e.data};a.onMessage&&a.onMessage(n.DATA_RECIEVED,i)}},a.onMessage&&a.onMessage(n.PLAYER_JOINED,t.from),a.players[t.from.id]=t.from}}else if(e==c.SIGNAL_TYPE_ANSWER)null!=this.connections[t.from.id]?this.connections[t.from.id].peer.setRemoteDescription(new RTCSessionDescription(JSON.parse(t.sdp))):console.warn("Recieve answer for not exist player");else if(e==c.SIGNAL_TYPE_ICE)null!=this.connections[t.from.id]?this.connections[t.from.id].peer.addIceCandidate(new RTCIceCandidate(JSON.parse(t.sdp))):(this.pendingIces[t.from.id]||(this.pendingIces[t.from.id]=[]),this.pendingIces[t.from.id].push(t.sdp));else if(e==c.SIGNAL_TYPE_PLAYER_LEFT&&!this.gameStarted&&null!=this.myRoomId&&t){var i=t;this.myPlayer.id===i.id?(this.onMessage&&this.onMessage(n.KICKED_OUT,null),this.quit()):(this.onMessage&&this.onMessage(n.PLAYER_LEFT,i),this.masterPlayer.id===i.id&&this.signalChannel.changeMaster(this.myRoomId,function(e){console.log("Master change to: "+e),a.onMessage&&a.onMessage(n.MASTER_ROOM_CHANGE,e),a.masterPlayer=e})),this.connections[i.id]&&(this.connections[i.id].channel&&this.connections[i.id].channel.close(),this.connections[i.id].peer&&this.connections[i.id].peer.close(),delete this.connections[i.id]),delete this.players[i.id]}},e.prototype.createRoom=function(e,t,o,i,s){if(void 0===o&&(o=2),void 0===i&&(i=0),void 0===s&&(s={}),this.quit(),!this.webrtc_support)return t&&t({error:a.NOT_SUPPORTED,message:"WebRTC API is not support"},null),void(this.onMessage&&this.onMessage(n.ROOM_CREATED,{error:{error:a.NOT_SUPPORTED,message:"WebRTC API is not support"},room:null}));var r=this.signalChannel.createLobby(e,o,this.myPlayer,i,s);this.myRoomId=r,this.masterPlayer=this.myPlayer,this.joinedRoom=!0,this.players[this.myPlayer.id]=this.myPlayer;var c={id:r,title:e,master:this.myPlayer,maxPlayer:o,type:i,data:s,players:[this.myPlayer]};t&&t(null,c),this.onMessage&&this.onMessage(n.ROOM_CREATED,{room:c})},e.prototype.joinRoom=function(e,t){var o=this;if(this.quit(),!this.webrtc_support)return t&&t({error:a.NOT_SUPPORTED,message:"WebRTC API is not support"},null),void(this.onMessage&&this.onMessage(n.ROOM_JOINED,{error:{error:a.NOT_SUPPORTED,message:"WebRTC API is not support"},room:null}));this.joinedRoom=!1,this.signalChannel.queryData("lobbies/"+e,function(i){if(null!=i&&null!=i.id){var r=null!=i.players?Object.keys(i.players).length:-1;if(r>0)if(r>=i.maxPlayer)console.warn("Room is full"),t&&t({error:a.ROOM_FULL,message:"Room is full"},null);else if(Date.now()+o.timeOffset-i.created>o.deathTime)console.warn("Death room"),t&&t({error:a.ROOM_NOT_EXIST,message:"Death room"},null);else{var c=o.signalChannel.joinLobby(e,o.myPlayer);o.myRoomId=c,o.masterPlayer=i.master;var l=[],u=function(e){var t=i.players[e];if(!t.player)return o.signalChannel.kickPlayer(o.myRoomId,{id:e,name:""}),"continue";var a=new s;a.peer=new RTCPeerConnection(o.rtcConfig),a.channel=a.peer.createDataChannel("mpchannel"),o.connections[e]=a,a.channel.onclose=function(){console.log("connection: "+t.player.name+" is close"),o.gameStarted&&o.onMessage&&o.onMessage(n.PLAYER_DISCONNECT,t.player.id)},a.channel.onopen=function(){console.log("connection: "+t.player.name+" is open")},a.channel.onerror=function(e){console.log("connection: "+t.player.name+" is error: "+e)},a.channel.onmessage=function(e){console.log("connection: "+t.player.name+" has message: "+e.data);var a=null;try{a=JSON.parse(e.data)}catch(e){}if(a&&a.type&&"__sys"===a.type)"startgame"==a.message&&(o.gameStarted=!0,o.onMessage&&o.onMessage(n.GAME_STARTED,null));else{var i={player:t.player,data:e.data};o.onMessage&&o.onMessage(n.DATA_RECIEVED,i)}},a.peer.createOffer(function(e){a.peer.setLocalDescription(e),console.log("Offer create and send to remote "+t.player.name),o.signalChannel.sendOffer(o.myRoomId,o.myPlayer,t.player,e)},function(e){console.warn("Create offer for "+t.player+" failed")}),a.peer.onicecandidate=function(e){a.peer&&e&&e.candidate&&o.signalChannel.sendCandidate(o.myRoomId,o.myPlayer,t.player,e.candidate)},l.push(t.player),o.players[t.player.id]=t.player};for(var p in i.players)u(p);l.push(o.myPlayer),o.players[o.myPlayer.id]=o.myPlayer;var h={id:c,title:i.title,master:i.master,maxPlayer:i.maxPlayer,type:i.type,data:i.data,players:l};o.joinRoomTimeoutId=setTimeout(function(){console.log("Join room time out"),o.quit(),t&&t({error:a.ROOM_NOT_EXIST,message:"Join room time out"},null)},6e4),o.joinRoomUpdateIntervalId=setInterval(function(){var e=!0;for(var a in o.connections)o.connections[a].channel&&"open"==o.connections[a].channel.readyState||(e=!1);e&&!o.joinedRoom&&(o.joinedRoom=!0,clearTimeout(o.joinRoomTimeoutId),clearInterval(o.joinRoomUpdateIntervalId),t&&t(null,h),o.onMessage&&o.onMessage(n.ROOM_JOINED,{room:h}))},1e3/15)}else console.warn("Room is empty"),o.signalChannel.cleanEmptyRoom(),t&&t({error:a.ROOM_NOT_EXIST,message:"Room does not exist"},null)}else console.warn("Room does not exist"),t&&t({error:a.ROOM_NOT_EXIST,message:"Room does not exist"},null)})},e.prototype.quickJoin=function(e,t){var n=this;void 0===t&&(t=0),this.quit(),this.getRoomsType(t,function(t){if(t.length>0){for(var o=new u(t.length),i=o.random();i>-1;){if(t[i].playerInRoom<t[i].maxPlayer){n.joinRoom(t[Math.floor(Math.random()*t.length)].id,e);break}i=o.random()}i<0&&e&&e({error:a.NO_ROOM_ALIVE,message:"There have no room alive"},null)}else e&&e({error:a.NO_ROOM_ALIVE,message:"There have no room alive"},null)})},e.prototype.quit=function(e){if(void 0===e&&(e=null),null!=this.myRoomId&&""!=this.myRoomId){for(var t in this.signalChannel.quitLobby(this.myRoomId,this.myPlayer,function(){e&&e()}),clearTimeout(this.joinRoomTimeoutId),clearInterval(this.joinRoomUpdateIntervalId),this.gameStarted=!1,this.joinedRoom=!1,this.myRoomId="",this.connections)this.connections[t].channel&&this.connections[t].channel.close(),this.connections[t].peer&&this.connections[t].peer.close();this.connections={},this.pendingIces={},this.players={},this.signalChannel.setConnect(!1)}},e.prototype.getRoomsType=function(e,t){var a=this;this.signalChannel.queryData("lobbies",function(n){var o=[];for(var i in n){var s=Date.now()+a.timeOffset-n[i].created>a.deathTime,r=n[i].players[a.myPlayer.id];n[i].type!=e&&null!=e||null==n[i].players||s||r||o.push(n[i])}t(o)})},e.prototype.getRooms=function(e){this.getRoomsType(null,e)},e.prototype.sendMessage=function(e){for(var t in this.connections)this.connections[t].channel.send(e)},e.prototype.sendMessageTo=function(e,t){this.connections[e]&&this.connections[e].channel.send(t)},e}();e.Manager=r;var c=function(){function e(){}return e.prototype.init=function(e,t){var a=this;this.gameId=e;this.firebaseApp=firebase.initializeApp({apiKey:"AIzaSyBbEcsnkmPtPsaATElA94sWNVbxLjXUhdE",authDomain:"webrtcmultiplay.firebaseapp.com",databaseURL:"https://webrtcmultiplay.firebaseio.com",projectId:"webrtcmultiplay",storageBucket:"webrtcmultiplay.appspot.com",messagingSenderId:"508433943022"},"multiplay");var n=this.firebaseApp.database();n.ref(e).once("value",function(o){o.exists()?(a.firebaseDb=n.ref(e),o.child("lobbies").forEach(function(e){return e.child("players").exists()||o.child("lobbies/"+e.key).ref.remove(),!1})):(n.ref(e).set({created:firebase.database.ServerValue.TIMESTAMP,rooms:[],lobbies:[]}),a.firebaseDb=n.ref(e));a.lobbyRef=a.firebaseDb.child("lobbies"),t&&t()})},e.prototype.setSignalingListener=function(e){this.signalListener=e},e.prototype.createLobby=function(t,a,n,o,i){var s=this;this.setConnect(!0);var r=this.lobbyRef.child(l.generateID()),c=""==n.id?this.lobbyRef.child(r.key+"/players").push().key:n.id;n.id=c;var u={created:firebase.database.ServerValue.TIMESTAMP,id:r.key,title:t,playerInRoom:1,maxPlayer:a,master:n,type:o,data:i,players:{}};return r.set(u),r.child("/players/"+c).set({player:n}),this.lobbyRef.child(r.key+"/players/"+c+"/offers").on("child_added",function(t){s.signalListener(e.SIGNAL_TYPE_OFFER,t.toJSON()),t.ref.remove()}),this.lobbyRef.child(r.key+"/players/"+c+"/ices").on("child_added",function(t){t.ref.on("child_added",function(t){s.signalListener(e.SIGNAL_TYPE_ICE,t.toJSON()),t.ref.remove()})}),this.lobbyRef.child(r.key+"/players").on("value",function(e){null!=e.val()&&s.lobbyRef.child(r.key+"/playerInRoom").set(e.numChildren())}),this.lobbyRef.child(r.key+"/players").on("child_removed",function(t){t.val().player&&s.signalListener(e.SIGNAL_TYPE_PLAYER_LEFT,t.val().player)}),this.lobbyRef.child(r.key+"/players/"+c).onDisconnect().remove(),r.key},e.prototype.joinLobby=function(t,a){var n=this;this.setConnect(!0);var o=""==a.id?this.lobbyRef.child(t+"/players").push().key:a.id;return a.id=o,this.lobbyRef.child(t+"/players/"+o).set({player:a}),this.lobbyRef.child(t+"/players/"+o+"/offers").on("child_added",function(t){n.signalListener(e.SIGNAL_TYPE_OFFER,t.toJSON()),t.ref.remove()}),this.lobbyRef.child(t+"/players/"+o+"/answers").on("child_added",function(t){n.signalListener(e.SIGNAL_TYPE_ANSWER,t.toJSON()),t.ref.remove()}),this.lobbyRef.child(t+"/players/"+o+"/ices").on("child_added",function(t){t.ref.on("child_added",function(t){n.signalListener(e.SIGNAL_TYPE_ICE,t.toJSON()),t.ref.remove()})}),this.lobbyRef.child(t+"/players").on("value",function(e){null!=e.val()&&n.lobbyRef.child(t+"/playerInRoom").set(e.numChildren())}),this.lobbyRef.child(t+"/players").on("child_removed",function(a){a.val().player&&n.lobbyRef.child(t+"/players").once("value",function(t){null!=t.val()&&t.numChildren()>0&&n.signalListener(e.SIGNAL_TYPE_PLAYER_LEFT,a.val().player)})}),this.lobbyRef.child(t+"/players/"+o).onDisconnect().remove(),t},e.prototype.quitLobby=function(e,t,a){var n=this;this.lobbyRef.child(e+"/players").off(),this.lobbyRef.child(e+"/players/"+t.id).remove().then(function(){return a(),n.lobbyRef.child(e+"/players").once("value")}).then(function(t){t.hasChildren()||n.lobbyRef.child(e).remove()})},e.prototype.removeLobby=function(e){e&&""!=e&&this.lobbyRef.child(e).remove()},e.prototype.kickPlayer=function(e,t){this.lobbyRef.child(e+"/players/"+t.id).remove()},e.prototype.sendOffer=function(e,t,a,n){var o=this;this.lobbyRef.child(e+"/players").once("value",function(i){i&&i.exists()&&i.child(t.id).exists()&&i.child(a.id).exists()&&o.lobbyRef.child(e+"/players/"+a.id+"/offers/"+t.id).set({from:t,sdp:JSON.stringify(n)})})},e.prototype.sendAnswer=function(e,t,a,n){var o=this;this.lobbyRef.child(e+"/players").once("value",function(i){i&&i.exists()&&i.child(t.id).exists()&&i.child(a.id).exists()&&o.lobbyRef.child(e+"/players/"+a.id+"/answers/"+t.id).set({from:t,sdp:JSON.stringify(n)})})},e.prototype.sendCandidate=function(e,t,a,n){var o=this;this.lobbyRef.child(e+"/players").once("value",function(i){i&&i.exists()&&i.child(t.id).exists()&&i.child(a.id).exists()&&o.lobbyRef.child(e+"/players/"+a.id+"/ices/"+t.id).push({from:t,sdp:JSON.stringify(n)})})},e.prototype.queryData=function(e,t){this.setConnect(!0),this.firebaseDb.child(e).once("value",function(e){t(e.toJSON())})},e.prototype.getTimeOffset=function(e){this.firebaseApp.database().ref(".info/serverTimeOffset").once("value",function(t){e(t.val())})},e.prototype.changeMaster=function(e,t){var a=this;this.lobbyRef.child(e+"/players").limitToFirst(1).once("value",function(n){var o=n.val()[Object.keys(n.val())[0]].player;a.lobbyRef.child(e+"/master").set(o),t(o)})},e.prototype.cleanEmptyRoom=function(){var e=this;this.lobbyRef.once("value",function(t){t.forEach(function(t){return t.child("players").exists()||e.lobbyRef.child(t.key).remove(),!1})})},e.prototype.setConnect=function(e){e?this.firebaseApp.database().goOnline():this.firebaseApp.database().goOffline()},e.SIGNAL_TYPE_OFFER="offer",e.SIGNAL_TYPE_ANSWER="answer",e.SIGNAL_TYPE_ICE="ice",e.SIGNAL_TYPE_PLAYER_LEFT="player_left",e}(),l=function(){function e(){}return e.generateID=function(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return("000"+e.toString(36)).slice(-3)+("000"+t.toString(36)).slice(-3)},e}(),u=function(){function e(e,t){void 0===t&&(t=!1),this.unique=[],this.initLength=-1,this.recycle=!1,this.initLength=e,this.recycle=t;for(var a=0;a<e;a++)this.unique[a]=a}return e.prototype.random=function(){if(0==this.unique.length){if(!this.recycle||-1==this.initLength)return-1;for(var e=0;e<this.initLength;e++)this.unique[e]=e}var t=Math.floor(Math.random()*this.unique.length),a=this.unique[t];return this.unique.splice(t,1),a},e}()}(a.multiplayer||(a.multiplayer={})),cc._RF.pop()},{}],config:[function(e,t,a){"use strict";cc._RF.push(t,"12bf6qYo6BLUYyrRIYj7duo","config"),Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(){}return e.PROJECT_ID="CaroGameMultiplayer1",e}();a.default=n,cc._RF.pop()},{}],"entername-controller":[function(e,t,a){"use strict";cc._RF.push(t,"625ffm0rgVP1rMiUxj4G+qq","entername-controller"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,i=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.namebox=null,t.usernamelabel=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.update=function(e){},__decorate([i(cc.EditBox)],t.prototype,"namebox",void 0),__decorate([i(cc.Label)],t.prototype,"usernamelabel",void 0),t=__decorate([o],t)}(cc.Component);a.default=s,cc._RF.pop()},{}],"event-manager":[function(e,t,a){"use strict";cc._RF.push(t,"e9f20FcyvZCw74ZxelzW31b","event-manager"),Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(){this.eventListenners={}}return Object.defineProperty(e,"instance",{get:function(){return null==e._instance&&(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t,a,n,o){void 0===a&&(a=null),void 0===n&&(n=0),void 0===o&&(o=!1);var i={target:a,callback:t,priority:n,excuteOnce:o};return this.eventListenners[e]?this.eventListenners[e].push(i):(this.eventListenners[e]=[],this.eventListenners[e].push(i)),this.eventListenners[e].sort(function(e,t){return t.priority-e.priority}),t},e.prototype.registerOnce=function(e,t,a,n){void 0===a&&(a=null),void 0===n&&(n=0),this.register(e,t,a,n,!0)},e.prototype.unregister=function(e,t,a){if(void 0===a&&(a=null),this.eventListenners[e]){for(var n=[],o=0;o<this.eventListenners[e].length;o++){var i=this.eventListenners[e][o];null==t?i.target==a&&n.push(o):i.target==a&&i.callback==t&&n.push(o)}this.eventListenners[e]=this.eventListenners[e].filter(function(e,t){return-1===n.indexOf(t)}),0==this.eventListenners[e].length&&delete this.eventListenners[e]}},e.prototype.unregisterTarget=function(e){var t=function(t){for(var n=[],o=0;o<a.eventListenners[t].length;o++){a.eventListenners[t][o].target==e&&n.push(o)}a.eventListenners[t]=a.eventListenners[t].filter(function(e,t){return-1===n.indexOf(t)}),0==a.eventListenners[t].length&&delete a.eventListenners[t]},a=this;for(var n in this.eventListenners)t(n)},e.prototype.remove=function(e){this.eventListenners[e]&&delete this.eventListenners[e]},e.prototype.dispatch=function(e){for(var t=this,a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];if(this.eventListenners[e]){var o=[];this.eventListenners[e].forEach(function(e){e.target?e.callback.call(e.target,a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]):e.callback(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]),1==e.excuteOnce&&o.push(e)}),o.forEach(function(a){t.unregister(e,a.callback,a.target)})}},e._instance=null,e}();a.default=n,cc._RF.pop()},{}],"firebase-inst":[function(e,t,a){"use strict";cc._RF.push(t,"04261xQQqRDEKRHVZW5fwCW","firebase-inst"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("../config"),o=function(){function e(){}return Object.defineProperty(e,"app",{get:function(){if(this._app)return this._app;cc.warn("Firebase instance is not init yet")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"db",{get:function(){if(this._db)return this._db;cc.warn("Firebase instance is not init yet")},enumerable:!0,configurable:!0}),e.init=function(){null==this._app&&(cc.log("Init firebase inst"),this._app=firebase.initializeApp(this.config),this._db=this._app.database().ref(n.default.PROJECT_ID))},e.config={apiKey:"AIzaSyAbtm9DVqNFcMz0MDuVAND27Dshh2TfAcE",authDomain:"gameleaderboard-49a78.firebaseapp.com",databaseURL:"https://gameleaderboard-49a78.firebaseio.com",projectId:"gameleaderboard-49a78",storageBucket:"gameleaderboard-49a78.appspot.com",messagingSenderId:"311807796451"},e}();a.default=o,cc._RF.pop()},{"../config":"config"}],"game-analytic":[function(e,t,a){"use strict";cc._RF.push(t,"822fd5OyCBN+IP1FitS+JSm","game-analytic"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./global"),o=cc._decorator,i=o.ccclass,s=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastresult=!1,t.totalcompleteCase1=0,t.thelastResultList=[],t.totalcompleteCase2=0,t.totalcompleteCase3=0,t.totalcompleteCase4=0,t}var a;return __extends(t,e),a=t,Object.defineProperty(t,"instance",{get:function(){return null==a._instance?(cc.error("Game instance is not init yet"),null):a._instance},enumerable:!0,configurable:!0}),t.prototype.checkCompleteCase1=function(e){if(this.lastresult)return!0;this.totalcompleteCase1=0;var t=this.checkCompletCase1Left(e);if(t>4)return this.lastresult=!0,!0;this.totalcompleteCase1=0;var a=this.checkCompletCase1Right(e);return cc.log(" ----- Case 1: "+t+" "+a),a>4&&(this.lastresult=!0,!0)},t.prototype.checkCompletCase1Left=function(e){return n.default.instance.gamemap[e.x][e.y]==n.default.instance.currentPlayerID?(this.totalcompleteCase1++,this.thelastResultList.length<10&&this.thelastResultList.push(e),this.checkCompletCase1Left(cc.v2(e.x-1,e.y)),this.totalcompleteCase1):(this.totalcompleteCase1<5&&(this.thelastResultList=[]),0)},t.prototype.checkCompletCase1Right=function(e){return n.default.instance.gamemap[e.x][e.y]==n.default.instance.currentPlayerID?(this.totalcompleteCase1++,this.thelastResultList.length<10&&this.thelastResultList.push(e),this.checkCompletCase1Right(cc.v2(e.x+1,e.y)),this.totalcompleteCase1):(this.totalcompleteCase1<5&&(this.thelastResultList=[]),0)},t.prototype.checkCompleteCase2=function(e){if(this.lastresult)return!0;this.totalcompleteCase2=0;var t=this.checkCompletCase2Up(e);if(t>4)return this.lastresult=!0,!0;this.totalcompleteCase2=0;var a=this.checkCompletCase2Down(e);return cc.log(" ----- Case 2: "+t+" "+a),a>4&&(this.lastresult=!0,!0)},t.prototype.checkCompletCase2Up=function(e){return n.default.instance.gamemap[e.x][e.y]==n.default.instance.currentPlayerID?(this.totalcompleteCase2++,this.thelastResultList.length<10&&this.thelastResultList.push(e),this.checkCompletCase2Up(cc.v2(e.x-1,e.y+1)),this.totalcompleteCase2):(this.totalcompleteCase2<5&&(this.thelastResultList=[]),0)},t.prototype.checkCompletCase2Down=function(e){return n.default.instance.gamemap[e.x][e.y]==n.default.instance.currentPlayerID?(this.totalcompleteCase2++,this.thelastResultList.length<10&&this.thelastResultList.push(e),this.checkCompletCase2Down(cc.v2(e.x+1,e.y-1)),this.totalcompleteCase2):(this.totalcompleteCase2<5&&(this.thelastResultList=[]),0)},t.prototype.checkCompleteCase3=function(e){if(this.lastresult)return!0;this.totalcompleteCase3=0;var t=this.checkCompletCase3Up(e);if(t>4)return this.lastresult=!0,!0;this.totalcompleteCase3=0;var a=this.checkCompletCase3Down(e);return cc.log(" ----- Case 3: "+t+" "+a),a>4&&(this.lastresult=!0,!0)},t.prototype.checkCompletCase3Up=function(e){return n.default.instance.gamemap[e.x][e.y]==n.default.instance.currentPlayerID?(this.totalcompleteCase3++,this.thelastResultList.length<10&&this.thelastResultList.push(e),this.checkCompletCase3Up(cc.v2(e.x,e.y+1)),this.totalcompleteCase3):(this.totalcompleteCase3<5&&(this.thelastResultList=[]),0)},t.prototype.checkCompletCase3Down=function(e){return n.default.instance.gamemap[e.x][e.y]==n.default.instance.currentPlayerID?(this.totalcompleteCase3++,this.thelastResultList.length<10&&this.thelastResultList.push(e),this.checkCompletCase3Down(cc.v2(e.x,e.y-1)),this.totalcompleteCase3):(this.totalcompleteCase3<5&&(this.thelastResultList=[]),0)},t.prototype.checkCompleteCase4=function(e){if(this.lastresult)return!0;this.totalcompleteCase4=0;var t=this.checkCompletCase4Up(e);if(t>4)return this.lastresult=!0,!0;this.totalcompleteCase4=0;var a=this.checkCompletCase4Down(e);return cc.log(" ----- Case 4: "+t+" "+a),a>4&&(this.lastresult=!0,!0)},t.prototype.checkCompletCase4Up=function(e){return n.default.instance.gamemap[e.x][e.y]==n.default.instance.currentPlayerID?(this.totalcompleteCase4++,this.thelastResultList.length<10&&this.thelastResultList.push(e),this.checkCompletCase4Up(cc.v2(e.x+1,e.y+1)),this.totalcompleteCase4):(this.totalcompleteCase4<5&&(this.thelastResultList=[]),0)},t.prototype.checkCompletCase4Down=function(e){return n.default.instance.gamemap[e.x][e.y]==n.default.instance.currentPlayerID?(this.totalcompleteCase4++,this.thelastResultList.length<10&&this.thelastResultList.push(e),this.checkCompletCase4Down(cc.v2(e.x-1,e.y-1)),this.totalcompleteCase4):(this.totalcompleteCase4<5&&(this.thelastResultList=[]),0)},t.prototype.onLoad=function(){a._instance=this},t.prototype.checkfinishMyGame=function(){var e=this;return this.lastresult=!1,n.default.instance.MyTurnPostList.forEach(function(t){(e.checkCompleteCase1(t)||e.checkCompleteCase2(t)||e.checkCompleteCase3(t)||e.checkCompleteCase4(t))&&(e.lastresult=!0)}),this.lastresult},t.prototype.start=function(){},t.prototype.update=function(e){},t._instance=null,t=a=__decorate([i],t)}(cc.Component));a.default=s,cc._RF.pop()},{"./global":"global"}],"game-computer":[function(e,t,a){"use strict";cc._RF.push(t,"543e6BUhIlFvKUS/TGiWm8f","game-computer"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./event-manager"),o=e("./global"),i=e("./game-analytic"),s=e("./game"),r=e("./AIPlayer"),c=e("./sound-manager"),l=cc._decorator,u=l.ccclass,p=l.property;(function(e){e[e.CROSS=1]="CROSS",e[e.NOUGHT=2]="NOUGHT"})(a.TickType||(a.TickType={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_map=null,t.tickdata=[],t.gameover=null,t.waitingoppNode=null,t.timerNode=null,t.timerPlayerX=null,t.timerPlayerO=null,t.currentIndicatorX=null,t.currentIndicatorO=null,t.ONameNode=null,t.XNameNode=null,t.onwaitingretryNode=null,t.confirmrematchNode=null,t.rejectconfirmInfoNode=null,t.resultText=[],t.chattext=null,t.chattextcontain=null,t.chatitemprefab=null,t.MAP_SIZE_WIDTH=35,t.MAP_SIZE_HEIGHT=30,t.GAME_TURN_TIME=15,t.isMultiplayer=!1,t.localPlayer=null,t.gameStart=!1,t.currentGameTime=t.GAME_TURN_TIME,t.isgameover=!1,t.AIstartPoint=cc.v2(10,10),t.IsHumanTurn=!1,t.isHumanWinGame=!1,t}var a;return __extends(t,e),a=t,Object.defineProperty(t,"instance",{get:function(){return null==a._instance?(cc.error("Game instance is not init yet"),null):a._instance},enumerable:!0,configurable:!0}),t.prototype.initGamemap=function(){var e=0,t=0;for(o.default.instance.AITurnPosList=[],o.default.instance.HumanTurnPosList=[],e=0;e<this.MAP_SIZE_WIDTH;++e)for(o.default.instance.gamemap[e]=[],t=0;t<this.MAP_SIZE_HEIGHT;++t)o.default.instance.gamemap[e][t]=0},t.prototype.updateAllPlayerName=function(){o.default.instance.isHostRoom?(this.XNameNode.string=o.default.instance.currentHumanName,this.ONameNode.string=o.default.instance.currentComputerName):(this.XNameNode.string=o.default.instance.currentComputerName,this.ONameNode.string=o.default.instance.currentHumanName)},t.prototype.setInvisibleEnableTime=function(e){o.default.instance.isYourTurn?(this.timerPlayerX.active=e,this.timerPlayerO.active=!e,this.currentIndicatorX.active=e,this.currentIndicatorO.active=!e):(this.timerPlayerX.active=!e,this.timerPlayerO.active=e,this.currentIndicatorX.active=!e,this.currentIndicatorO.active=e)},t.prototype.initGameoverScreen=function(e){var t=this;this.isgameover||(this.isgameover=!0,this.hideWaitingInputScreen(),this.drawcompleteLine(),this.scheduleOnce(function(){t.displayGameOverScreen(e)},2))},t.prototype.drawcompleteLine=function(){var e=this;c.default.instance.playMusic("levelCompleted",!1),i.default.instance.thelastResultList.forEach(function(t){e.drawWinChess(!e.isHumanWinGame,t)})},t.prototype.displayGameOverScreen=function(e){var t;this.gameover.active=!0,t=e?this.resultText[0]:this.resultText[1],this.gameover.getChildByName("maintext").getComponent(cc.Sprite).spriteFrame=t,this.hideWaitingInputScreen()},t.prototype.showWaitingInputScreen=function(){this.waitingoppNode.active=!0},t.prototype.hideWaitingInputScreen=function(){this.waitingoppNode.active=!1},t.prototype.checkAndShowGameTurnPlay=function(){this.setInvisibleEnableTime(o.default.instance.isHostRoom),this.IsHumanTurn?this.hideWaitingInputScreen():this.showWaitingInputScreen()},t.prototype.gameoverClosebtnClick=function(){cc.director.loadScene("lobby-controller")},t.prototype.updateGameMap=function(e){o.default.instance.gamemap[e.x][e.y]=o.default.instance.currentPlayerID},t.prototype.tilemapAvailable=function(e){return 0==o.default.instance.gamemap[e.x][e.y]},t.prototype.initAllGameData=function(){this.currentGameTime=this.GAME_TURN_TIME,this.isgameover=!1},t.prototype.onLoad=function(){cc.view.enableAutoFullScreen(!0),a._instance=this,this.IsHumanTurn=!1,this.isHumanWinGame=!1,o.default.instance.isHostRoom=!1,this.registerTouchEvent(),this.initGamemap(),this.checkAndShowGameTurnPlay(),this.updateAllPlayerName(),this.chattextLayout=this.chattextcontain.getComponentInChildren(cc.Layout)},t.prototype.start=function(){},t.prototype.drawWinChess=function(e,t){var a,n=this.convertTileIDToPos(t);(a=e?cc.instantiate(this.tickdata[2]):cc.instantiate(this.tickdata[3])).setPosition(n),this.node.addChild(a)},t.prototype.drawPlayerChess=function(e,t,a){var n;void 0===a&&(a=!1);var o=this.convertTileIDToPos(t);(n=e?cc.instantiate(this.tickdata[0]):cc.instantiate(this.tickdata[1])).getComponent("tick").needDisplayHL=a,n.setPosition(o),this.node.addChild(n)},t.prototype.checkValidArea=function(e){var t=!0;return(e.x<2||e.x>18||e.y<2||e.y>17)&&(t=!1),t},t.prototype.getLastHumanTurnPoint=function(){return this.lastHumanTurnPoint},t.prototype.onTouchStart=function(e){var t=e.getLocation(),a=this.getTileTouch(t);if(this.checkValidArea(a)&&this.tilemapAvailable(a)){if(c.default.instance.playEffect("putChessDown",!1,o.default.instance.soundVolume),this.lastHumanTurnPoint=a,this.updateGameMap(a),this.drawPlayerChess(o.default.instance.isHostRoom,a),o.default.instance.isYourTurn=!o.default.instance.isYourTurn,this.currentGameTime=this.GAME_TURN_TIME,this.checkAndShowGameTurnPlay(),o.default.instance.HumanTurnPosList.push(a),this.checkPlayerCompleteGame(a))return this.isHumanWinGame=!0,void this.initGameoverScreen(!0);this.changeHumanTurnAndComputer()}},t.prototype.checkPlayerCompleteGame=function(e){return i.default.instance.checkCompleteCase1(e)||i.default.instance.checkCompleteCase2(e)||i.default.instance.checkCompleteCase3(e)||i.default.instance.checkCompleteCase4(e)},t.prototype.drawAIPlayerChess=function(e){o.default.instance.currentPlayerID=s.PlayerID.PLAYER2,o.default.instance.AITurnPosList.push(e),this.updateGameMap(e),this.drawPlayerChess(!0,e,!0)},t.prototype.onTouchMove=function(e){},t.prototype.onTouchEnd=function(e){},t.prototype.update=function(e){0==this.gameStart&&(cc.log("all ready, start count down."),this.gameStart=!0,this.drawAIPlayerChess(this.AIstartPoint),this.changeHumanTurnAndComputer()),this.isgameover||(this.currentGameTime-=cc.director.getDeltaTime(),this.currentGameTime>0?(this.timerNode.getComponent(cc.Label).string=this.seconds2Time(this.currentGameTime).toString(),this.timerPlayerX.getComponent(cc.Label).string=this.seconds2Time(this.currentGameTime).toString(),this.timerPlayerO.getComponent(cc.Label).string=this.seconds2Time(this.currentGameTime).toString()):(cc.log(" Global.instance.isYourTurn = "+o.default.instance.isYourTurn),this.IsHumanTurn?this.initGameoverScreen(!1):this.initGameoverScreen(!0)))},t.prototype.seconds2Time=function(e){if((e=Math.floor(e))<60)return e>9?"00:"+e.toString():"00:0"+e;var t=Math.floor(e/60),a=e-60*t;return(t>9?t:"0"+t)+":"+(a>9?a:"0"+a)},t.prototype.getTileTouch=function(e){return this.getTilePosition(e)},t.prototype.convertTileIDToPos=function(e){var t=this.m_map.getTileSize(),a=Math.floor(e.x*t.width),n=Math.floor(e.y*t.height);return cc.v2(a,n)},t.prototype.getTilePosition=function(e){var t=this.m_map.getTileSize(),a=Math.floor(e.x/t.width),n=Math.floor(e.y/t.height);return cc.v2(a,n)},t.prototype.registerTouchEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onWaitingRetryOkButton=function(){this.onRematch()},t.prototype.onrejectRematchButtonCicked=function(){cc.director.loadScene("lobby-controller")},t.prototype.onretrybtnClicked=function(){this.gameover.active=!1,this.onwaitingretryNode.active=!0,this.scheduleOnce(function(){cc.director.loadScene("game - computer")},1.5)},t.prototype.onRematch=function(){cc.director.loadScene("game")},t.prototype.onSendbuttonClicked=function(){var e=this.chattext.string.toString();cc.log("000000000 : "+e);var t=cc.instantiate(this.chatitemprefab);t.getChildByName("maintext").getComponent(cc.RichText).string="<color=#00ff00>"+o.default.instance.currentHumanName+"</c><color=#000000> : </c><color=#ffffff>"+e+"</color>",this.chattextLayout.node.addChild(t),this.chattext.string="",this.chattextcontain.getComponent(cc.ScrollView).scrollToBottom()},t.prototype.onSpecialChatTextTouch=function(e,t){var a=cc.instantiate(this.chatitemprefab);a.getChildByName("maintext").getComponent(cc.RichText).string="<color=#00ff00>"+o.default.instance.currentHumanName+"</c><color=#000000> : </c><color=#ffffff>"+t+"</color>",this.chattextLayout.node.addChild(a),this.chattext.string="",this.chattextcontain.getComponent(cc.ScrollView).scrollToBottom()},t.prototype.controlAIPlayerGame=function(){var e=r.default.instance.getNextAIPlay();this.drawAIPlayerChess(e),this.checkPlayerCompleteGame(e)?this.initGameoverScreen(!1):this.changeHumanTurnAndComputer()},t.prototype.changeHumanTurnAndComputer=function(){var e=this;this.IsHumanTurn=!this.IsHumanTurn,this.IsHumanTurn?(o.default.instance.currentPlayerID=s.PlayerID.PLAYER1,this.hideWaitingInputScreen()):(o.default.instance.currentPlayerID=s.PlayerID.PLAYER2,this.showWaitingInputScreen(),this.scheduleOnce(function(){e.controlAIPlayerGame()},1.5))},t.prototype.playbuttonclicksound=function(){c.default.instance.playEffect("sellectButton",!1,o.default.instance.soundVolume)},t.prototype.onDestroy=function(){n.default.instance.unregisterTarget(this)},t._instance=null,__decorate([p({type:cc.TiledMap,tooltip:"Main map"})],t.prototype,"m_map",void 0),__decorate([p({type:[cc.Prefab],tooltip:"Tick data array"})],t.prototype,"tickdata",void 0),__decorate([p({type:cc.Node,tooltip:"Game over screen"})],t.prototype,"gameover",void 0),__decorate([p({type:cc.Node,tooltip:"Waiting opponent in put screen"})],t.prototype,"waitingoppNode",void 0),__decorate([p({type:cc.Node,tooltip:"Display timer"})],t.prototype,"timerNode",void 0),__decorate([p({type:cc.Node,tooltip:"Timer for player X"})],t.prototype,"timerPlayerX",void 0),__decorate([p({type:cc.Node,tooltip:"Timer for player O"})],t.prototype,"timerPlayerO",void 0),__decorate([p({type:cc.Node,tooltip:"Current indicator for Player X"})],t.prototype,"currentIndicatorX",void 0),__decorate([p({type:cc.Node,tooltip:"Current indicator for Player O"})],t.prototype,"currentIndicatorO",void 0),__decorate([p(cc.Label)],t.prototype,"ONameNode",void 0),__decorate([p(cc.Label)],t.prototype,"XNameNode",void 0),__decorate([p(cc.Node)],t.prototype,"onwaitingretryNode",void 0),__decorate([p(cc.Node)],t.prototype,"confirmrematchNode",void 0),__decorate([p(cc.Node)],t.prototype,"rejectconfirmInfoNode",void 0),__decorate([p([cc.SpriteFrame])],t.prototype,"resultText",void 0),__decorate([p(cc.EditBox)],t.prototype,"chattext",void 0),__decorate([p(cc.Node)],t.prototype,"chattextcontain",void 0),__decorate([p(cc.Prefab)],t.prototype,"chatitemprefab",void 0),t=a=__decorate([u],t)}(cc.Component);a.default=h,cc._RF.pop()},{"./AIPlayer":"AIPlayer","./event-manager":"event-manager","./game":"game","./game-analytic":"game-analytic","./global":"global","./sound-manager":"sound-manager"}],"game-messages":[function(e,t,a){"use strict";cc._RF.push(t,"423c5U8vzxEbq4rUHzxJpeX","game-messages"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=(n.ccclass,n.property,function(){function e(){}return e.SOUND_LOADED="gm_sound_loaded",e.GLOBAL_LOADED="gm_global_loaded",e.GAME_WAITING_LOADING_LOBBY="game_waiting_load_lobby",e}());a.default=o,cc._RF.pop()},{}],game:[function(e,t,a){"use strict";cc._RF.push(t,"3d970gFen1BRKzZouYQGGne","game"),Object.defineProperty(a,"__esModule",{value:!0});var n,o=e("./libs/Multiplayer"),i=e("./multiplayer-inst"),s=e("./event-manager"),r=e("./global"),c=e("./core/transport-message"),l=e("./game-analytic"),u=e("./sound-manager"),p=cc._decorator,h=p.ccclass,d=p.property;(function(e){e[e.CROSS=1]="CROSS",e[e.NOUGHT=2]="NOUGHT"})(a.TickType||(a.TickType={})),function(e){e[e.PLAYER1=100]="PLAYER1",e[e.PLAYER2=200]="PLAYER2"}(n=a.PlayerID||(a.PlayerID={}));var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_map=null,t.tickdata=[],t.gameover=null,t.waitingoppNode=null,t.timerNode=null,t.timerPlayerX=null,t.timerPlayerO=null,t.currentIndicatorX=null,t.currentIndicatorO=null,t.ONameNode=null,t.XNameNode=null,t.onwaitingretryNode=null,t.confirmrematchNode=null,t.rejectconfirmInfoNode=null,t.resultText=[],t.chattext=null,t.chattextcontain=null,t.chatitemprefab=null,t.waitingconnectNode=null,t.MAP_SIZE_WIDTH=35,t.MAP_SIZE_HEIGHT=30,t.isMultiplayer=!1,t.localPlayer=null,t.gameStart=!1,t.currentGameTime=15,t.isgameover=!1,t}var a;return __extends(t,e),a=t,Object.defineProperty(t,"instance",{get:function(){return null==a._instance?(cc.error("Game instance is not init yet"),null):a._instance},enumerable:!0,configurable:!0}),t.prototype.initGamemap=function(){var e=0,t=0;for(r.default.instance.MyTurnPostList=[],e=0;e<this.MAP_SIZE_WIDTH;++e)for(r.default.instance.gamemap[e]=[],t=0;t<this.MAP_SIZE_HEIGHT;++t)r.default.instance.gamemap[e][t]=0},t.prototype.updateAllPlayerName=function(){r.default.instance.isHostRoom?(this.XNameNode.string=r.default.instance.currentPlayerName,this.ONameNode.string=r.default.instance.opponentPlayerName):(this.XNameNode.string=r.default.instance.opponentPlayerName,this.ONameNode.string=r.default.instance.currentPlayerName)},t.prototype.setInvisibleEnableTime=function(e){r.default.instance.isYourTurn?(this.timerPlayerX.active=e,this.timerPlayerO.active=!e,this.currentIndicatorX.active=e,this.currentIndicatorO.active=!e):(this.timerPlayerX.active=!e,this.timerPlayerO.active=e,this.currentIndicatorX.active=!e,this.currentIndicatorO.active=e)},t.prototype.initGameoverScreen=function(e){var t=this;this.isgameover||(this.isgameover=!0,this.hideWaitingInputScreen(),this.drawcompleteLine(),this.scheduleOnce(function(){t.displayGameOverScreen(e)},2))},t.prototype.drawcompleteLine=function(){var e=this;u.default.instance.playMusic("levelCompleted",!1),l.default.instance.thelastResultList.forEach(function(t){e.drawWinChess(r.default.instance.isHostRoom,t)})},t.prototype.displayGameOverScreen=function(e){var t;this.gameover.active=!0,t=e?this.resultText[0]:this.resultText[1],this.gameover.getChildByName("maintext").getComponent(cc.Sprite).spriteFrame=t,this.hideWaitingInputScreen()},t.prototype.showWaitingInputScreen=function(){this.waitingoppNode.active=!0},t.prototype.hideWaitingInputScreen=function(){this.waitingoppNode.active=!1},t.prototype.checkAndShowGameTurnPlay=function(){this.setInvisibleEnableTime(r.default.instance.isHostRoom),r.default.instance.isYourTurn?this.hideWaitingInputScreen():this.showWaitingInputScreen()},t.prototype.gameoverClosebtnClick=function(){i.default.instance.sendMessage("gameover-leave"),cc.director.loadScene("lobby-controller"),i.default.instance.quit()},t.prototype.updateGameMap=function(e){r.default.instance.gamemap[e.x][e.y]=r.default.instance.currentPlayerID},t.prototype.tilemapAvailable=function(e){return cc.log("Global.instance.gamemap[position.x][position.y] = "+r.default.instance.gamemap[e.x][e.y]),0==r.default.instance.gamemap[e.x][e.y]},t.prototype.initAllGameData=function(){this.currentGameTime=15,this.isgameover=!1},t.prototype.onLoad=function(){cc.view.enableAutoFullScreen(!0),a._instance=this,r.default.instance.isopponentleftroom=!1,this.registerTouchEvent(),this.initGamemap(),null==i.default.instance.localPlayer&&(cc.log("Init lai Local Player ............... "),i.default.instance.initNewLocalPlayer()),cc.log("Init new Local Player"),this.localPlayer=i.default.instance.localPlayer,i.default.instance.manager.onMessage=this.onMpMessage.bind(this),i.default.instance.sendMessage("gameplay-loaded",i.default.instance.localPlayer.id),i.default.instance.sendMessage("gameplay-player-name",r.default.instance.currentPlayerName),this.checkAndShowGameTurnPlay(),this.updateAllPlayerName(),this.chattextLayout=this.chattextcontain.getComponentInChildren(cc.Layout)},t.prototype.start=function(){},t.prototype.drawWinChess=function(e,t){var a,n=this.convertTileIDToPos(t);(a=e?cc.instantiate(this.tickdata[2]):cc.instantiate(this.tickdata[3])).setPosition(n),this.node.addChild(a)},t.prototype.drawPlayerChess=function(e,t,a){var n;void 0===a&&(a=!1);var o=this.convertTileIDToPos(t);(n=e?cc.instantiate(this.tickdata[0]):cc.instantiate(this.tickdata[1])).setPosition(o),n.getComponent("tick").needDisplayHL=a,this.node.addChild(n)},t.prototype.checkValidArea=function(e){var t=!0;return(e.x<2||e.x>18||e.y<2||e.y>17)&&(t=!1),t},t.prototype.onTouchStart=function(e){if(!this.isgameover){u.default.instance.playEffect("putChessDown",!1,r.default.instance.soundVolume);var t=e.getLocation(),a=this.getTileTouch(t);cc.log("Touch at ID: "+a),this.checkValidArea(a)&&this.tilemapAvailable(a)&&(this.updateGameMap(a),r.default.instance.MyTurnPostList.push(a),this.drawPlayerChess(r.default.instance.isHostRoom,a),i.default.instance.sendMessage("game-playing",{posx:a.x,posy:a.y,playerid:r.default.instance.isHostRoom}),r.default.instance.isYourTurn=!r.default.instance.isYourTurn,this.currentGameTime=15,this.checkAndShowGameTurnPlay(),l.default.instance.checkfinishMyGame()&&(i.default.instance.sendMessage("game-end",{winner:!1,winboard:l.default.instance.thelastResultList}),this.initGameoverScreen(!0),cc.log("All win point: "+l.default.instance.thelastResultList)))}},t.prototype.onTouchMove=function(e){},t.prototype.onTouchEnd=function(e){},t.prototype.update=function(e){if(0==this.gameStart&&i.default.instance.allPlayerReady()){cc.log("all ready, start count down."),this.gameStart=!0;var t=cc.sys.localStorage.getItem("usernamecaromli");i.default.instance.sendMessage("Start",t),this.waitingconnectNode.active=!1}this.isgameover||(this.currentGameTime-=cc.director.getDeltaTime(),this.currentGameTime>=0?(this.timerNode.getComponent(cc.Label).string=this.seconds2Time(this.currentGameTime).toString(),this.timerPlayerX.getComponent(cc.Label).string=this.seconds2Time(this.currentGameTime).toString(),this.timerPlayerO.getComponent(cc.Label).string=this.seconds2Time(this.currentGameTime).toString()):(r.default.instance.isYourTurn?this.initGameoverScreen(!1):this.initGameoverScreen(!0),i.default.instance.sendMessage("game-end",{winner:!0,winboard:l.default.instance.thelastResultList})))},t.prototype.seconds2Time=function(e){if((e=Math.floor(e))<60)return e>9?"00:"+e.toString():"00:0"+e;var t=Math.floor(e/60),a=e-60*t;return(t>9?t:"0"+t)+":"+(a>9?a:"0"+a)},t.prototype.getTileTouch=function(e){return this.getTilePosition(e)},t.prototype.convertTileIDToPos=function(e){var t=this.m_map.getTileSize(),a=Math.floor(e.x*t.width),n=Math.floor(e.y*t.height);return cc.v2(a,n)},t.prototype.getTilePosition=function(e){var t=this.m_map.getTileSize(),a=Math.floor(e.x/t.width),n=Math.floor(e.y/t.height);return cc.v2(a,n)},t.prototype.registerTouchEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.onMpMessage=function(e,t){switch(cc.log("nhan duoc message: "+e.toString()),e){case o.multiplayer.MessageCode.PLAYER_LEFT:case o.multiplayer.MessageCode.PLAYER_DISCONNECT:}if(e==o.multiplayer.MessageCode.DATA_RECIEVED){cc.log("data receive gameMulti: "+t.data);var a=t,s=JSON.parse(a.data);if("Start"===s.type)this.gameStart=!0;else if("gameplay-player-name"==s.type){cc.log("Received message: "+s.type);var c=s.data;r.default.instance.opponentPlayerName=c.toString(),this.updateAllPlayerName()}else if("gameplay-loaded"==s.type){var u=s.data;cc.log("nhan duoc player id la: "+u),i.default.instance.getPlayer(u).loaded=!0}else if("start-game-now"===s.type);else if("game-playing"==s.type){var p=s.data.posx,h=s.data.posy,d=s.data.playerid;cc.log("Nhan duoc gi ko ne: "+p+" - "+h+" - "+d),r.default.instance.isYourTurn=!r.default.instance.isYourTurn,this.currentGameTime=15,r.default.instance.gamemap[p][h]=n.PLAYER2,this.checkAndShowGameTurnPlay(),this.drawPlayerChess(d,cc.v2(p,h),!0)}else if("game-play-name"===s.type);else if("game-end"==s.type){var m=s.data.winner;l.default.instance.thelastResultList=s.data.winboard,cc.log("RECEIVER WINNER VARIABLE IS: "+m+l.default.instance.thelastResultList),this.initGameoverScreen(m)}else if("game-retry-confirm"==s.type)this.onRematch();else if("game-retry"==s.type)cc.log("get retry message."),this.hideWaitingInputScreen(),this.gameover.active=!1,this.onwaitingretryNode.active=!1,this.confirmrematchNode.active=!0;else if("game-retry-reject"==s.type)this.gameover.active=!1,this.onwaitingretryNode.active=!1,this.confirmrematchNode.active=!1,this.rejectconfirmInfoNode.active=!0;else if("game-message-chat"==s.type){var f=s.data,y=cc.instantiate(this.chatitemprefab);y.getChildByName("maintext").getComponent(cc.RichText).string="<color=#ff0000>"+r.default.instance.opponentPlayerName+"</c><color=#000000> : </c><color=#ffffff>"+f+"</color>",this.chattextLayout.node.addChild(y),this.chattextLayout.node.parent.getComponent(cc.ScrollView).scrollToBottom()}else"gameover-leave"==s.type&&(cc.log("Opponent leave this room, can't rematch"),r.default.instance.isopponentleftroom=!0,this.gameover.active=!1,this.onwaitingretryNode.active=!1,this.confirmrematchNode.active=!1,this.rejectconfirmInfoNode.active=!0)}},t.prototype.onWaitingRetryOkButton=function(){i.default.instance.sendMessage("game-retry-confirm"),this.onRematch()},t.prototype.onrejectRematchButtonCicked=function(){i.default.instance.sendMessage("game-retry-reject"),cc.director.loadScene("lobby-controller"),i.default.instance.quit()},t.prototype.onretrybtnClicked=function(){i.default.instance.sendMessage("game-retry"),this.gameover.active=!1,this.onwaitingretryNode.active=!0},t.prototype.onRematch=function(){c.default.instance.send("gameplay","multiplayer","true"),cc.director.loadScene("game"),i.default.instance.manager.startGame()},t.prototype.onSendbuttonClicked=function(){var e=this.chattext.string.toString(),t=cc.instantiate(this.chatitemprefab);t.getChildByName("maintext").getComponent(cc.RichText).string="<color=#00ff00>"+r.default.instance.currentHumanName+"</c><color=#000000> : </c><color=#ffffff>"+e+"</color>",this.chattextLayout.node.addChild(t),i.default.instance.sendMessage("game-message-chat",e),this.chattext.string="",this.chattextcontain.getComponent(cc.ScrollView).scrollToBottom()},t.prototype.onSpecialChatTextTouch=function(e,t){var a=cc.instantiate(this.chatitemprefab);a.getChildByName("maintext").getComponent(cc.RichText).string="<color=#00ff00>"+r.default.instance.currentHumanName+"</c><color=#000000> : </c><color=#ffffff>"+t+"</color>",this.chattextLayout.node.addChild(a),i.default.instance.sendMessage("game-message-chat",t),this.chattext.string="",this.chattextcontain.getComponent(cc.ScrollView).scrollToBottom()},t.prototype.playbuttonclicksound=function(){u.default.instance.playEffect("sellectButton",!1,r.default.instance.soundVolume)},t.prototype.onDestroy=function(){s.default.instance.unregisterTarget(this),i.default.instance.manager.onMessage=null},t._instance=null,__decorate([d({type:cc.TiledMap,tooltip:"Main map"})],t.prototype,"m_map",void 0),__decorate([d({type:[cc.Prefab],tooltip:"Tick data array"})],t.prototype,"tickdata",void 0),__decorate([d({type:cc.Node,tooltip:"Game over screen"})],t.prototype,"gameover",void 0),__decorate([d({type:cc.Node,tooltip:"Waiting opponent in put screen"})],t.prototype,"waitingoppNode",void 0),__decorate([d({type:cc.Node,tooltip:"Display timer"})],t.prototype,"timerNode",void 0),__decorate([d({type:cc.Node,tooltip:"Timer for player X"})],t.prototype,"timerPlayerX",void 0),__decorate([d({type:cc.Node,tooltip:"Timer for player O"})],t.prototype,"timerPlayerO",void 0),__decorate([d({type:cc.Node,tooltip:"Current indicator for Player X"})],t.prototype,"currentIndicatorX",void 0),__decorate([d({type:cc.Node,tooltip:"Current indicator for Player O"})],t.prototype,"currentIndicatorO",void 0),__decorate([d(cc.Label)],t.prototype,"ONameNode",void 0),__decorate([d(cc.Label)],t.prototype,"XNameNode",void 0),__decorate([d(cc.Node)],t.prototype,"onwaitingretryNode",void 0),__decorate([d(cc.Node)],t.prototype,"confirmrematchNode",void 0),__decorate([d(cc.Node)],t.prototype,"rejectconfirmInfoNode",void 0),__decorate([d([cc.SpriteFrame])],t.prototype,"resultText",void 0),__decorate([d(cc.EditBox)],t.prototype,"chattext",void 0),__decorate([d(cc.Node)],t.prototype,"chattextcontain",void 0),__decorate([d(cc.Prefab)],t.prototype,"chatitemprefab",void 0),__decorate([d(cc.Node)],t.prototype,"waitingconnectNode",void 0),t=a=__decorate([h],t)}(cc.Component);a.default=m,cc._RF.pop()},{"./core/transport-message":"transport-message","./event-manager":"event-manager","./game-analytic":"game-analytic","./global":"global","./libs/Multiplayer":"Multiplayer","./multiplayer-inst":"multiplayer-inst","./sound-manager":"sound-manager"}],global:[function(e,t,a){"use strict";cc._RF.push(t,"0facaTpAb1ASKpJUhUJgEVx","global"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,i=(n.property,e("./game")),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isLoaded=!1,t.coliderNode=null,t.currentLevel=0,t.playerLevel=0,t.isQuickMatch=!1,t.soundOn=!0,t.isHostRoom=!1,t.isYourTurn=!1,t.isopponentleftroom=!1,t.numOfTurnPlayed=0,t.availableRoomID=[],t.usingAIPlayer=!1,t.isAIturn=!1,t.maxLengthDefend=0,t.currentPlayerName="",t.opponentPlayerName="",t.currentComputerName="",t.currentHumanName="",t.currentPlayerID=i.PlayerID.PLAYER1,t.NULLPOS=cc.v2(-1,-1),t.soundVolume=20,t.gamemap=[],t.AITurnPosList=[],t.HumanTurnPosList=[],t.MyTurnPostList=[],t.roomnamelistforAI=[["Andyoo","Stefan","JimmyBon","Nilas","Cerok1","Cwlin","Connar","duffyduck"],["Packer5","Nilas","JimmyBon","Stefan","Tigo","maybeme8","joijo","namsolo"],["califorlove","WhiteRat","shadowX","Nilas","joijo","Cwlin","checker07","Breinnon"]],t.playernameListforFake=[["Andyoo","WhiteRat","shadowX","Nilas","Cerok1","Cwlin","Connar","duffyduck","nhocon17","longeng","Tigo","joijo","yoyoyo21","maybeme8","Vodichthu","panjik","Breinnon","flakus","a123456","Asteann","Stefan","fsnoral","Cires","ffm3010","namsolo","Yililoth","checker07","aaaa33","Mariiboku","Qilat"],["Packer5","hanacha09","tbt2000","jimiliu31","Chuoi2017","Cwlin","Connar","bsn5209","Loser13","jojojo20","tbm1123","Kikine","havinafun","maybeme8","Vodichthu","panjik","Breinnon","Flakus","Gbbcherry","Asteann","Orangeman","chick2000","Cires","ffm3010","namsolo","Yililoth","Euro22","Funnyboy","Mariiboku","mercurylove"],["califorlove","Arnakov77","Cownit1","Nicolas","Kenachan","Onepunch","Connar","stingboy","nhocon17","longeng","Justforfun","Lovegame","yoyoyo21","maybeme8","Piupiupiu","panjik","Breinnon","flakus","York2102","Asteann","quandiablo","fsnoral","Tinanguyen","giatudivang","namsolo","Yililoth","checker07","Packer2","richierichie","Venusclub"]],t}var a;return __extends(t,e),a=t,Object.defineProperty(t,"instance",{get:function(){return null==a._instance&&(a._instance=new a),a._instance},enumerable:!0,configurable:!0}),t.prototype.checkValidArea=function(e){var t=!0;return(e.x<2||e.x>18||e.y<2||e.y>17)&&(t=!1),t},t.prototype.onLoad=function(){},t._instance=null,t=a=__decorate([o],t)}(cc.Component);a.default=s,cc._RF.pop()},{"./game":"game"}],"lb-item":[function(e,t,a){"use strict";cc._RF.push(t,"98d05lvHwlBHYJN5dTALcTo","lb-item"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,i=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rank=null,t.nickname=null,t.score=null,t}return __extends(t,e),t.prototype.setData=function(e,t,a){this.rank.string=e,this.nickname.string=t,this.score.string=""+a},__decorate([i(cc.Label)],t.prototype,"rank",void 0),__decorate([i(cc.Label)],t.prototype,"nickname",void 0),__decorate([i(cc.Label)],t.prototype,"score",void 0),t=__decorate([o],t)}(cc.Component);a.default=s,cc._RF.pop()},{}],"leaderboard-db":[function(e,t,a){"use strict";cc._RF.push(t,"b69e17zQchATqZxB0g43Sw7","leaderboard-db"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./firebase-inst"),o=function(){function e(){null==n.default.app&&n.default.init()}return Object.defineProperty(e,"instance",{get:function(){return null==this._intance&&(this._intance=new e),this._intance},enumerable:!0,configurable:!0}),e.prototype.updateName=function(t,a,o){n.default.db.child(t).once("value",function(t){t&&t.exists()?(t.ref.child("name").set(a),o&&o(null)):o&&o({error:e.ErrorCode.ID_NOT_EXIST,message:"Id is not exist in db"})})},e.prototype.updateScore=function(e,t,a,o){void 0===o&&(o=!0),n.default.db.child(e).once("value",function(e){e&&e.exists()?o?e.val().score<=a&&(e.ref.child("score").set(a),e.ref.child("name").set(t)):e.val().score>=a&&(e.ref.child("score").set(a),e.ref.child("name").set(t)):(e.ref.child("score").set(a),e.ref.child("name").set(t))})},e.prototype.addScore=function(e,t,a,o){void 0===o&&(o=!0),n.default.db.child(e).once("value",function(e){if(e&&e.exists())if(o){var n=e.val().score+a;e.ref.child("score").set(n),e.ref.child("name").set(t)}else{n=e.val().score-a;e.ref.child("score").set(n),e.ref.child("name").set(t)}else e.ref.child("score").set(a),e.ref.child("name").set(t)})},e.prototype.getTopScore=function(e,t,a){void 0===a&&(a=!0),a?n.default.db.orderByChild("score").limitToLast(e).once("value",function(e){var a=[];e.forEach(function(e){return a.unshift({name:e.val().name,score:e.val().score}),!1}),t(a)}):n.default.db.orderByChild("score").limitToFirst(e).once("value",function(e){var a=[];e.forEach(function(e){return a.push({name:e.val().name,score:e.val().score}),!1}),t(a)})},e._intance=null,e}();a.LeaderboardDb=o,function(e){(function(e){e[e.ID_NOT_EXIST=0]="ID_NOT_EXIST"})(e.ErrorCode||(e.ErrorCode={}))}(o=a.LeaderboardDb||(a.LeaderboardDb={})),a.LeaderboardDb=o,cc._RF.pop()},{"./firebase-inst":"firebase-inst"}],loader:[function(e,t,a){"use strict";cc._RF.push(t,"006dciL7TZEgISjnDqBxBlV","loader"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./transport-message"),o=e("../server-code/player-ref"),i=e("../libs/firebase-inst"),s=e("../multiplayer-inst"),r=e("../event-manager"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nextScene="lobby-controller",t.targetLoad="",t._loadInstances={PlayerRef:!1,Multiplayer:!1},t._loadGame=!1,t}var a;return __extends(t,e),a=t,t.prototype.onLoad=function(){if(cc.log("loader Load."),0==a.loaded)if("loader"!=this.getCurrentSceneName()){var e=""!=this.targetLoad?this.targetLoad:this.getCurrentSceneName();n.default.instance.send("loader","nextScene",e),cc.log("Loading loader screen now"),cc.director.loadScene("loader")}else{a.loaded=!0;var t=n.default.instance.get("loader","nextScene");this.nextScene=null!=t?t:this.nextScene}},t.prototype.start=function(){cc.log("Current screen is : "+this.getCurrentSceneName()),"loader"==this.getCurrentSceneName()&&this.initLoader()},t.prototype.initLoader=function(){var e=this;cc.log("Init loader."),i.default.init(),o.default.current,s.default.instance,r.default.instance.registerOnce("PlayerRef-init",function(){e._loadInstances.PlayerRef=!0}),r.default.instance.registerOnce("Multiplayer-init",function(){e._loadInstances.Multiplayer=!0})},t.prototype.update=function(e){var t=!0;for(var a in this._loadInstances)if(0==this._loadInstances[a]){t=!1;break}t&&!this._loadGame&&(this._loadGame=!0,cc.log("next scene di man."),cc.director.loadScene(this.nextScene))},t.prototype.getCurrentSceneName=function(){var e="";return cc.game._sceneInfos.forEach(function(t){t.uuid==cc.director._scene._id&&(e=(e=t.url).substring(e.lastIndexOf("/")+1).match(/[^\.]+/)[0])}),cc.log("Return Scene: "+e),e},t.loaded=!1,__decorate([u],t.prototype,"targetLoad",void 0),t=a=__decorate([l],t)}(cc.Component);a.default=p,cc._RF.pop()},{"../event-manager":"event-manager","../libs/firebase-inst":"firebase-inst","../multiplayer-inst":"multiplayer-inst","../server-code/player-ref":"player-ref","./transport-message":"transport-message"}],"lobby-computer":[function(e,t,a){"use strict";cc._RF.push(t,"de5caN/vYJJSo8JhlgDQe+7","lobby-computer"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./lobby-player-item"),o=e("./global"),i=e("./sound-manager"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerLeft=null,t.playerRight=null,t}return __extends(t,e),t.prototype.onLoad=function(){cc.view.enableAutoFullScreen(!0),cc.log("Computer name is: "+o.default.instance.currentComputerName),this.playerLeft.setData("0",o.default.instance.currentComputerName,!0),this.playerRight.setData("1",o.default.instance.currentHumanName,!1),this.scheduleOnce(function(){cc.director.loadScene("game - computer")},1.5)},t.prototype.start=function(){},t.prototype.playbuttonclicksound=function(){i.default.instance.playEffect("sellectButton",!1,o.default.instance.soundVolume)},t.prototype.update=function(e){},t.prototype.onButtonQuitRoom=function(){cc.director.loadScene("lobby-controller")},__decorate([c(n.default)],t.prototype,"playerLeft",void 0),__decorate([c(n.default)],t.prototype,"playerRight",void 0),t=__decorate([r],t)}(cc.Component);a.default=l,cc._RF.pop()},{"./global":"global","./lobby-player-item":"lobby-player-item","./sound-manager":"sound-manager"}],"lobby-controller":[function(e,t,a){"use strict";cc._RF.push(t,"34959kyMwVCG5ryKMi6FKzg","lobby-controller"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,i=n.property,s=e("../multiplayer-inst"),r=e("../core/transport-message"),c=e("../server-code/player-ref"),l=e("../sound-manager"),u=e("../global"),p=e("../event-manager"),h=e("../game-messages"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roomlist=null,t.inputnameNode=null,t.labelUserName=null,t.namebox=null,t.waitingloadinglobbyNode=null,t.newgamebtn=null,t.findmatchtbn=null,t}return __extends(t,e),t.prototype.onLoad=function(){cc.view.enableAutoFullScreen(!0),this.waitingloadinglobbyNode.active=!1,p.default.instance.register(h.default.GAME_WAITING_LOADING_LOBBY,this.showLoadingLobbyWaiting,this),this.playthemeSound(),this.playthemesoundSchedule()},t.prototype.start=function(){this.newgamebtn.enabled=!0,this.findmatchtbn.enabled=!0},t.prototype.playthemesoundSchedule=function(){var e=this;this.schedule(function(){e.playthemeSound()},32)},t.prototype.playthemeSound=function(){l.default.instance.playMusic("theme_song",!1)},t.prototype.playbuttonclicksound=function(){l.default.instance.playEffect("sellectButton",!1,u.default.instance.soundVolume)},t.prototype.onEnable=function(){u.default.instance.currentPlayerName=cc.sys.localStorage.getItem("usernamecaromli"),cc.log("Current player name: "+u.default.instance.currentPlayerName),null==u.default.instance.currentPlayerName?this.inputnameNode.active=!0:this.labelUserName.string=u.default.instance.currentPlayerName,u.default.instance.currentHumanName=u.default.instance.currentPlayerName},t.prototype.onEditNameButtonClicked=function(){this.inputnameNode.active=!0},t.prototype.showRoomListButtonClick=function(){this.roomlist.active=!1,this.roomlist.active=!0},t.prototype.onCreateRoom=function(){this.unscheduleAllCallbacks(),l.default.instance.stopAll(),s.default.instance.manager.isInitialized()?s.default.instance.manager.createRoom("",function(e,t){null==e&&(cc.log("Create room success"),r.default.instance.send("lobby","room",JSON.stringify(t)),cc.director.loadScene("lobby"))},2,1):alert("Server is not initialized, please wait 3 second and try again.")},t.prototype.autojoinButtonClick=function(){u.default.instance.availableRoomID=[],s.default.instance.manager.getRooms(function(e){if(cc.log("Get all lobbies again ................. :"+e.length),0!=e.length){e.forEach(function(e){cc.log("Add room Id : "+e.id),u.default.instance.availableRoomID.push(e.id)}),cc.log("Number of available rooms to join: "+u.default.instance.availableRoomID.length);var t=Math.floor(Math.random()*u.default.instance.availableRoomID.length)+0;cc.log("We have random room id: "+t),u.default.instance.isHostRoom=!1,u.default.instance.isYourTurn=!1,cc.log("We join room id: "+u.default.instance.availableRoomID[t]),s.default.instance.manager.joinRoom(u.default.instance.availableRoomID[t],function(e,t){null==e?(r.default.instance.send("lobby","room",JSON.stringify(t)),cc.director.loadScene("lobby")):cc.log("Joined fail error")})}})},t.prototype.okbtninputnameclicked=function(){var e=this.namebox.string;0!=e.length&&(cc.sys.localStorage.setItem("usernamecaromli",e),c.default.current.setName(e),s.default.instance.manager.setPlayerName(e),u.default.instance.currentPlayerName=e,u.default.instance.currentHumanName=e,this.labelUserName.string=e,this.inputnameNode.active=!1,cc.director.loadScene("lobby-controller"))},t.prototype.showLoadingLobbyWaiting=function(){this.waitingloadinglobbyNode.active=!0,this.findmatchtbn.enabled=!1,this.newgamebtn.enabled=!1},t.prototype.onDestroy=function(){cc.log("Exit from lobby controller."),p.default.instance.unregisterTarget(this),this.unscheduleAllCallbacks()},__decorate([i({type:cc.Node,tooltip:"All available room"})],t.prototype,"roomlist",void 0),__decorate([i(cc.Node)],t.prototype,"inputnameNode",void 0),__decorate([i(cc.Label)],t.prototype,"labelUserName",void 0),__decorate([i(cc.EditBox)],t.prototype,"namebox",void 0),__decorate([i(cc.Node)],t.prototype,"waitingloadinglobbyNode",void 0),__decorate([i(cc.Button)],t.prototype,"newgamebtn",void 0),__decorate([i(cc.Button)],t.prototype,"findmatchtbn",void 0),t=__decorate([o],t)}(cc.Component);a.default=d,cc._RF.pop()},{"../core/transport-message":"transport-message","../event-manager":"event-manager","../game-messages":"game-messages","../global":"global","../multiplayer-inst":"multiplayer-inst","../server-code/player-ref":"player-ref","../sound-manager":"sound-manager"}],"lobby-player-item":[function(e,t,a){"use strict";cc._RF.push(t,"482e6lkJORJubYvWWWWkdFi","lobby-player-item"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./multiplayer-inst"),o=e("./sound-manager"),i=e("./global"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerName=null,t.kickButton=null,t.master=!1,t.anim=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.kickButton.node.active=!1},t.prototype.setData=function(e,t,a){null==e||""==e?(cc.log("player left"),this.playerName.string="wating...",this.kickButton.node.active=!1):(this.playerId=e,this.playerName.string=t,this.setMaster(a),this.playerId==n.default.instance.manager.getMyPlayer().id&&(this.kickButton.node.active=!1))},t.prototype.setMaster=function(e){e?(this.kickButton.node.active=!1,this.master=e):(this.kickButton.node.active=!0,this.master=e)},t.prototype.playbuttonclicksound=function(){o.default.instance.stopAll(),o.default.instance.playEffect("sellectButton",!1,i.default.instance.soundVolume)},t.prototype.onButtonKickOut=function(){n.default.instance.manager.kickOut(this.playerId)},__decorate([c(cc.Label)],t.prototype,"playerName",void 0),__decorate([c(cc.Button)],t.prototype,"kickButton",void 0),t=__decorate([r],t)}(cc.Component);a.default=l,cc._RF.pop()},{"./global":"global","./multiplayer-inst":"multiplayer-inst","./sound-manager":"sound-manager"}],lobby:[function(e,t,a){"use strict";cc._RF.push(t,"5c7adwnXidI77tIKY45dxpl","lobby"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./core/transport-message"),o=e("./libs/Multiplayer"),i=e("./lobby-player-item"),s=e("./multiplayer-inst"),r=e("./event-manager"),c=e("./global"),l=e("./sound-manager"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameMode=null,t.playerLeft=null,t.playerRight=null,t.startButton=null,t.players=[],t}return __extends(t,e),t.prototype.onLoad=function(){cc.view.enableAutoFullScreen(!0),this.players[0]={id:"",slot:this.playerLeft},this.players[1]={id:"",slot:this.playerRight},r.default.instance.register("multiplayer-message",this.onMpMessage,this)},t.prototype.start=function(){var e=n.default.instance.get("lobby","room"),t=JSON.parse(e);if(cc.log("room info: "+e),null==s.default.instance.manager.onMessage&&(s.default.instance.manager.onMessage=this.onMpMessage.bind(this)),t){if(t.players.length>2)return void cc.error("Invalid number player in room: "+t.players.length);for(var a=0;a<t.players.length;a++){var o=t.players[a];this.players[a].id=o.id,this.players[a].slot.setData(o.id,o.name,s.default.instance.manager.isMaster(o.id))}s.default.instance.manager.isMaster(s.default.instance.manager.getMyPlayer().id)?this.startButton.node.active=!0:this.startButton.node.active=!1,this.startButton.node.active=!1}},t.prototype.onMpMessage=function(e,t){switch(cc.log("Multiplayer message: "+e),e){case o.multiplayer.MessageCode.PLAYER_LEFT:for(var a=t,i=0;i<2;i++)this.players[i].id==a.id&&(this.players[i].id="",this.players[i].slot.setData(null,"",!1));s.default.instance.manager.isMaster(s.default.instance.manager.getMyPlayer().id)&&(this.startButton.node.active=!1);break;case o.multiplayer.MessageCode.PLAYER_JOINED:cc.log("co nguoi join roi ne.");a=t;null==s.default.instance.localPlayer&&(cc.log("Init lai Local Player ............... "),s.default.instance.initNewLocalPlayer());for(i=0;i<2;i++){if(""==this.players[i].id){this.players[i].id=a.id,this.players[i].slot.setData(a.id,a.name,s.default.instance.manager.isMaster(a.id)),s.default.instance.manager.isMaster(s.default.instance.manager.getMyPlayer().id)&&(this.startButton.node.active=!0);break}1==i&&cc.warn("Player join but there have not slot")}break;case o.multiplayer.MessageCode.KICKED_OUT:s.default.instance.manager.quit(),n.default.instance.send("lobby-controller","page","1"),cc.director.loadScene("lobby-controller");break;case o.multiplayer.MessageCode.GAME_STARTED:cc.log("Game start"),n.default.instance.send("gameplay","multiplayer","true"),cc.director.loadScene("game");break;case o.multiplayer.MessageCode.MASTER_ROOM_CHANGE:a=t;if(s.default.instance.manager.getMyPlayer().id==a.id){for(i=0;i<2;i++)""!=this.players[i].id&&this.players[i].id!=a.id?this.players[i].slot.setMaster(!1):this.players[i].id==a.id&&this.players[i].slot.setMaster(!0);this.startButton.node.active=!0}break;case o.multiplayer.MessageCode.DATA_RECIEVED:var r=t}if(e==o.multiplayer.MessageCode.DATA_RECIEVED){cc.log("data receive gameMulti: "+t.data);r=t;var l=JSON.parse(r.data);if("Start"===l.type);else if("gameplay-player-name"==l.type){cc.log("Received message: "+l.type);var u=l.data;c.default.instance.opponentPlayerName=u.toString()}else if("gameplay-loaded"==l.type){var p=l.data;cc.log("nhan duoc player id la: "+p),s.default.instance.getPlayer(p).loaded=!0}else if("start-game-now"===l.type);else if("game-play-name"===l.type);else if("Startfromlobby"==l.type){cc.log("Receive data start game from lobby.");u=l.data;c.default.instance.opponentPlayerName=u.toString()}}},t.prototype.onButtonQuitRoom=function(){s.default.instance.manager.quit(),cc.director.loadScene("lobby-controller")},t.prototype.onButtonStartGame=function(){c.default.instance.isHostRoom=!0,c.default.instance.isYourTurn=!0,s.default.instance.manager.startGame(),n.default.instance.send("gameplay","multiplayer","true"),cc.director.loadScene("game")},t.prototype.playbuttonclicksound=function(){l.default.instance.playEffect("sellectButton",!1,c.default.instance.soundVolume)},t.prototype.onDestroy=function(){r.default.instance.unregisterTarget(this),s.default.instance.manager.onMessage=null},__decorate([h({type:cc.Label,tooltip:"display"})],t.prototype,"gameMode",void 0),__decorate([h(i.default)],t.prototype,"playerLeft",void 0),__decorate([h(i.default)],t.prototype,"playerRight",void 0),__decorate([h(cc.Button)],t.prototype,"startButton",void 0),t=__decorate([p],t)}(cc.Component);a.default=d,cc._RF.pop()},{"./core/transport-message":"transport-message","./event-manager":"event-manager","./global":"global","./libs/Multiplayer":"Multiplayer","./lobby-player-item":"lobby-player-item","./multiplayer-inst":"multiplayer-inst","./sound-manager":"sound-manager"}],mainmenu:[function(e,t,a){"use strict";cc._RF.push(t,"63c9bPcvOlE+biciHcqpA9g","mainmenu"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,i=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.on1vs1ButtonClick=function(){cc.director.loadScene("game")},t.prototype.onLoad=function(){},t.prototype.start=function(){},t=__decorate([o],t)}(cc.Component));a.default=i,cc._RF.pop()},{}],"manager-loader":[function(e,t,a){"use strict";cc._RF.push(t,"e2201na+f1OO6TAHcSM9dys","manager-loader"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,i=(n.property,e("./sound-manager")),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){cc.log("manager loader - onload"),null==cc.find("Global")?cc.loader.loadRes("Global",function(e,t){cc.log("loadRes global");var a=cc.instantiate(t);a.name="Global",cc.director.getScene().addChild(a),i.default.instance.init()}):cc.log("Global already load!")},t.prototype.initManager=function(){},t=__decorate([o],t)}(cc.Component);a.default=s,cc._RF.pop()},{"./sound-manager":"sound-manager"}],mastergamecontrol:[function(e,t,a){"use strict";cc._RF.push(t,"9d3a3wLlq1G+KqjPg3EtV8X","mastergamecontrol"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,i=(n.property,e("./game")),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.registerControllKey=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},t.prototype.unregisterControllKey=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},t.prototype.onKeyDown=function(e){switch(cc.log("Co goi vao day ko troi: "+e.keyCode),e.keyCode){case cc.macro.KEY.enter:i.default.instance.onSendbuttonClicked()}},t.prototype.onDestroy=function(){this.unregisterControllKey()},t.prototype.update=function(e){},t=__decorate([o],t)}(cc.Component);a.default=s,cc._RF.pop()},{"./game":"game"}],"multiplayer-inst":[function(e,t,a){"use strict";cc._RF.push(t,"677a2DPxepJ26KTEEWcL2+f","multiplayer-inst"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./libs/Multiplayer"),o=e("./config"),i=e("./server-code/player-ref"),s=e("./server-code/player-multi"),r=e("./event-manager"),c=e("./server-code/player-multi"),l=function(){function e(){this._impl=null,this.players={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e,this._instance.init()),this._instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"manager",{get:function(){return this._impl},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._impl=new n.multiplayer.Manager(o.default.PROJECT_ID),this._impl.onMessage=this.onMpMessage.bind(this),cc.log(" ------------ Register lai cai khac ne. ---------------- ")},e.prototype.onMpMessage=function(e,t){switch(e){case n.multiplayer.MessageCode.ROOM_CREATED:case n.multiplayer.MessageCode.ROOM_JOINED:if(null==t.error)for(var a=t.room,o=0;o<a.players.length;o++){var l=(u=a.players[o]).id===this._impl.getMyPlayer().id?s.PlayerType.LOCAL:s.PlayerType.REMOTE;cc.log("player id create room : "+u.id),this.players[u.id]=new c.default(u.id,u.name,l,!0)}break;case n.multiplayer.MessageCode.PLAYER_JOINED:var u=t;cc.log("player id player join : "+u.id),this.players[u.id]=new c.default(u.id,u.name,s.PlayerType.REMOTE,!0);break;case n.multiplayer.MessageCode.PLAYER_LEFT:u=t;this.players[u.id]?delete this.players[u.id]:cc.warn("Player not exist: "+u.id);break;case n.multiplayer.MessageCode.INITIALIZED:cc.log("Set My player ................. "),r.default.instance.dispatch("Multiplayer-init"),this._impl.setPlayerName(i.default.current.name),this._impl.setPlayerId(i.default.current.id)}cc.log(" GO GO GO GO GO GO"),r.default.instance.dispatch("multiplayer-message",e,t)},e.prototype.initNewLocalPlayer=function(){cc.log("PlayerRef.current.name = "+i.default.current.name+"    "+i.default.current.id),this._impl.setPlayerName(i.default.current.name),this._impl.setPlayerId(i.default.current.id)},Object.defineProperty(e.prototype,"localPlayer",{get:function(){return this.players[this._impl.getMyPlayer().id]},enumerable:!0,configurable:!0}),e.prototype.getPlayer=function(e){return this.players[e]?this.players[e]:(cc.warn("Player is not exist"),null)},e.prototype.allPlayerReady=function(){var e=!0;for(var t in this.players)if(0==this.players[t].ready){e=!1;break}return e},e.prototype.amIMaster=function(){return this._impl.isMaster(this._impl.getMyPlayer().id)},e.prototype.quit=function(){this._impl.quit()},e.prototype.reset=function(){this._impl.quit(),this.players={},r.default.instance.remove("multiplayer-message")},e.prototype.rematch=function(){for(var e in this.players){var t=this.players[e];this.players[e]=new c.default(t.id,t.name,t.type,t.multiplay)}r.default.instance.remove("multiplayer-message")},e.prototype.sendMessageNew=function(e,t){void 0===t&&(t=null),this._impl.sendMessage(JSON.stringify({type:e,data:t}))},e.prototype.sendMessage=function(e,t){void 0===t&&(t=null),this._impl.sendMessage(JSON.stringify({type:e,data:t}))},e._instance=null,e}();a.default=l,cc._RF.pop()},{"./config":"config","./event-manager":"event-manager","./libs/Multiplayer":"Multiplayer","./server-code/player-multi":"player-multi","./server-code/player-ref":"player-ref"}],"player-element":[function(e,t,a){"use strict";cc._RF.push(t,"697e55Hf/JMI6GKJDSzRgor","player-element"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,i=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.namelabel=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.setData=function(e){this.namelabel.string=e},t.prototype.update=function(e){},__decorate([i({type:cc.Label,tooltip:"name of player"})],t.prototype,"namelabel",void 0),t=__decorate([o],t)}(cc.Component);a.default=s,cc._RF.pop()},{}],"player-multi":[function(e,t,a){"use strict";cc._RF.push(t,"f7d7atUMqRJE4sv6tnq+HEu","player-multi"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator.ccclass,o=e("../multiplayer-inst"),i=e("../event-manager");(function(e){e[e.LOCAL=0]="LOCAL",e[e.REMOTE=1]="REMOTE",e[e.BOSS=2]="BOSS"})(a.PlayerType||(a.PlayerType={})),function(e){e[e.READY=0]="READY",e[e.START=1]="START",e[e.START_FIGHT_TIME=2]="START_FIGHT_TIME",e[e.SHOOT_ONE=3]="SHOOT_ONE",e[e.SHOOT_THREE=4]="SHOOT_THREE",e[e.REMATCH=5]="REMATCH"}(a.PlayerMessage||(a.PlayerMessage={})),function(e){e[e.RAW=0]="RAW",e[e.WIN=1]="WIN",e[e.LOSE=2]="LOSE"}(a.PlayerResult||(a.PlayerResult={}));var s=function(){function e(e,t,a,n){this.ready=!1,this.type=null,this.id="",this.name="",this.multiplay=!1,this.id=e,this.name=t,this.type=a,this.multiplay=n}return Object.defineProperty(e.prototype,"loaded",{set:function(e){e&&(this.ready=!0,cc.log("co goi set ok ne."))},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.sendMessage=function(e,t){cc.log(" co send message nghen ..............."),o.default.instance.sendMessageNew(e,t),i.default.instance.dispatch("multiplayer-message",e,t)},e=__decorate([n],e)}();a.default=s,cc._RF.pop()},{"../event-manager":"event-manager","../multiplayer-inst":"multiplayer-inst"}],"player-ref":[function(e,t,a){"use strict";cc._RF.push(t,"83a1c8x1UVOwrA+v8WVEUNY","player-ref"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("../libs/firebase-inst"),o=e("../event-manager"),i=function(){function e(){this._id="",this._name="NickName"}return Object.defineProperty(e,"current",{get:function(){return null==this._current&&(this._current=new e,this._current.init(),this._current.authFirebase()),this._current},enumerable:!0,configurable:!0}),e.prototype.authFirebase=function(){null==n.default.app&&n.default.init(),n.default.app.auth().onAuthStateChanged(function(t){t&&(e.current.setId(t.uid),cc.log("Login anon success: "+t.uid),o.default.instance.dispatch("PlayerRef-init","success"))}),n.default.app.auth().signInAnonymously().catch(function(e){cc.warn("Authentication anon error: "+e.message)})},e.prototype.init=function(){null!=cc.sys.localStorage.getItem("usernamecaromli")&&(this._name=cc.sys.localStorage.getItem("usernamecaromli"))},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.setId=function(e){this._id=e},Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),e.prototype.setName=function(e){this._name=e},e._current=null,e}();a.default=i,cc._RF.pop()},{"../event-manager":"event-manager","../libs/firebase-inst":"firebase-inst"}],playerlist:[function(e,t,a){"use strict";cc._RF.push(t,"afa79WLAUZIVaz0XuYmNUON","playerlist"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./global"),o=e("./utils"),i=cc._decorator,s=i.ccclass,r=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerdataelem=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.content=this.node.getComponentInChildren(cc.Layout),this.content.node.removeAllChildren(),this.displayAllPlayer()},t.prototype.start=function(){},t.prototype.displayAllPlayer=function(){var e=this,t=n.default.instance.playernameListforFake.length;cc.log("fake list length: "+t);var a=o.Utils.getDirectionRandom(n.default.instance.playernameListforFake.length);this.content.node.removeAllChildren(),n.default.instance.playernameListforFake[a].forEach(function(t){var a=cc.instantiate(e.playerdataelem);a.getComponent("player-element").setData(t),e.content.node.addChild(a)}),this.content.node.parent.getComponent(cc.ScrollView).scrollToBottom()},t.prototype.update=function(e){},__decorate([r({type:cc.Prefab,tooltip:"Data for player element"})],t.prototype,"playerdataelem",void 0),t=__decorate([s],t)}(cc.Component);a.default=c,cc._RF.pop()},{"./global":"global","./utils":"utils"}],popup:[function(e,t,a){"use strict";cc._RF.push(t,"ff293tq5MhDY7rjWOUIlb+M","popup"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,i=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dialogPopup=null,t.waitingPopup=null,t.waitingPopupNode=null,t}var a;return __extends(t,e),a=t,Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(cc.error("Popup does not init yet, this need to be init in loader"),null)},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){a._instance=this,cc.game.addPersistRootNode(this.node),this.node.setLocalZOrder(1e3)},t.prototype.showInfoPopup=function(e,t){var a=cc.instantiate(this.dialogPopup),n=a.getChildByName("blockinput").getComponent(cc.Widget);n.target=cc.find("Canvas"),n.left=0,n.right=0,a.getChildByName("content").getComponent(cc.Label).string=e,a.getChildByName("positivebutton").active=!1,a.getChildByName("negativebutton").active=!1,a.getChildByName("okbutton").getComponent(cc.Button).node.on("click",function(){a.removeFromParent(),t&&t()}),cc.find("Canvas").addChild(a)},t.prototype.showConfirmPopup=function(e,t,a,n,o){var i=cc.instantiate(this.dialogPopup),s=i.getChildByName("blockinput").getComponent(cc.Widget);s.target=cc.find("Canvas"),s.left=0,s.right=0,i.getChildByName("content").getComponent(cc.Label).string=e,i.getChildByName("okbutton").active=!1,i.getChildByName("positivebutton").getChildByName("Label").getComponent(cc.Label).string=t,i.getChildByName("negativebutton").getChildByName("Label").getComponent(cc.Label).string=a,i.getChildByName("positivebutton").getComponent(cc.Button).node.on("click",function(){i.removeFromParent(),n&&n()}),i.getChildByName("negativebutton").getComponent(cc.Button).node.on("click",function(){i.removeFromParent(),o&&o()}),cc.find("Canvas").addChild(i)},t.prototype.showWaitingPopup=function(e){var t=cc.instantiate(this.waitingPopup),a=t.getChildByName("blockinput").getComponent(cc.Widget);a.target=cc.find("Canvas"),a.left=0,a.right=0,t.getChildByName("content").getComponentInChildren(cc.Label).string=e,this.waitingPopupNode=t,cc.find("Canvas").addChild(t)},t.prototype.hideWaitingPopup=function(){this.waitingPopupNode.removeFromParent()},t.prototype.showNotify=function(e,t){void 0===t&&(t=3);var a=cc.instantiate(this.waitingPopup);a.getChildByName("blockinput").removeFromParent(),a.getChildByName("content").getComponentInChildren(cc.Label).string=e,cc.find("Canvas").addChild(a),this.scheduleOnce(function(){a.removeFromParent()},t)},t._instance=null,__decorate([i(cc.Prefab)],t.prototype,"dialogPopup",void 0),__decorate([i(cc.Prefab)],t.prototype,"waitingPopup",void 0),t=a=__decorate([o],t)}(cc.Component);a.default=s,cc._RF.pop()},{}],"room-find":[function(e,t,a){"use strict";cc._RF.push(t,"2cd68P5MflF8pHU32wsJ1TB","room-find"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("../multiplayer-inst"),o=e("../global"),i=e("../utils"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roomitem=null,t.statusText=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.content=this.node.getComponentInChildren(cc.Layout),this.content.node.removeAllChildren()},t.prototype.getLobbies=function(){var e=this;n.default.instance.manager.getRooms(function(t){e.content.node.removeAllChildren(),e.statusText.node.active=!1,t.forEach(function(t){var a=cc.instantiate(e.roomitem),n=t.master.name,o=t.playerInRoom+"/"+t.maxPlayer;a.getComponent("roomelement").setData(t.id,n,t.type,o),e.content.node.addChild(a)}),e.createComputerroom(),e.content.node.parent.getComponent(cc.ScrollView).scrollToTop()})},t.prototype.createComputerroom=function(){var e=this;o.default.instance.roomnamelistforAI[this.randomroomlist].forEach(function(t){var a=cc.instantiate(e.roomitem);a.getComponent("roomelement").setData(0,t,0,0,!0),e.content.node.addChild(a)})},t.prototype.start=function(){},t.prototype.onEnable=function(){var e=this,t=o.default.instance.roomnamelistforAI.length;this.randomroomlist=i.Utils.getDirectionRandom(t),this.getLobbies(),this.schedule(function(){e.getLobbies()},1)},__decorate([c({type:cc.Prefab,tooltip:"data for 1 room"})],t.prototype,"roomitem",void 0),__decorate([c({type:cc.Label,tooltip:"text no room"})],t.prototype,"statusText",void 0),t=__decorate([r],t)}(cc.Component);a.default=l,cc._RF.pop()},{"../global":"global","../multiplayer-inst":"multiplayer-inst","../utils":"utils"}],roomelement:[function(e,t,a){"use strict";cc._RF.push(t,"0767b4/UGFNmYZrh760Pq1G","roomelement"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("../multiplayer-inst"),o=e("../core/transport-message"),i=e("../global"),s=e("../sound-manager"),r=e("../event-manager"),c=e("../game-messages"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roomorder=null,t.roomtime=null,t.player1Name=null,t.player2Name=null,t.id="",t.isComputerRoom=!1,t.roomComputerName="",t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.playbuttonclicksound=function(){s.default.instance.stopAll(),s.default.instance.playEffect("sellectButton",!1,i.default.instance.soundVolume)},t.prototype.joinbuttonClicked=function(){if(r.default.instance.dispatch(c.default.GAME_WAITING_LOADING_LOBBY),this.isComputerRoom)return i.default.instance.usingAIPlayer=!0,i.default.instance.currentComputerName=this.roomComputerName,void cc.director.loadScene("lobby-computer");cc.log("Join room: "+this.id),i.default.instance.isHostRoom=!1,i.default.instance.isYourTurn=!1,n.default.instance.manager.joinRoom(this.id,function(e,t){null==e?(o.default.instance.send("lobby","room",JSON.stringify(t)),cc.director.loadScene("lobby")):cc.log("Joined fail error")})},t.prototype.setData=function(e,t,a,n,o){void 0===o&&(o=!1),this.id=e,this.roomorder.string=e,this.roomtime.string=t,this.player1Name.string=a,this.player2Name.string=n,this.isComputerRoom=o,o&&(this.roomComputerName=t)},__decorate([p({type:cc.Label,tooltip:"order number of room"})],t.prototype,"roomorder",void 0),__decorate([p({type:cc.Label,tooltip:"time of room"})],t.prototype,"roomtime",void 0),__decorate([p({type:cc.Label,tooltip:"Name of player 1"})],t.prototype,"player1Name",void 0),__decorate([p({type:cc.Label,tooltip:"Name of Player 2"})],t.prototype,"player2Name",void 0),t=__decorate([u],t)}(cc.Component);a.default=h,cc._RF.pop()},{"../core/transport-message":"transport-message","../event-manager":"event-manager","../game-messages":"game-messages","../global":"global","../multiplayer-inst":"multiplayer-inst","../sound-manager":"sound-manager"}],"sound-manager":[function(e,t,a){"use strict";cc._RF.push(t,"6b74dajPdNIJYDu8Pvte63B","sound-manager"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=n.ccclass,i=(n.property,e("./event-manager")),s=e("./game-messages"),r=function(){function e(){this.sounds={},this.playingSounds={},this.initialized=!1,this.isMute=!1}var t;return t=e,Object.defineProperty(e,"instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;cc.loader.loadResDir("sound",function(t,a,n){n.length>0&&(a.forEach(function(t,a){if(-1!=n[a].indexOf("sound/background")||-1!=n[a].indexOf("sound/effect")){var o=n[a].substring(n[a].lastIndexOf("/")+1,n[a].length).toLowerCase();e.sounds[o]=t}}),e.initialized=!0,i.default.instance.dispatch(s.default.SOUND_LOADED))})},e.prototype.playMusic=function(e,t,a){if(void 0===t&&(t=!1),void 0===a&&(a=1),!this.isMute)if(e=e.toLowerCase(),this.sounds[e]){cc.log("play music: "+e);var n=cc.audioEngine.play(this.sounds[e],t,a);this.playingSounds[e]=n}else cc.error("playMusic - clipName: "+e+" not found")},e.prototype.playEffect=function(e,t,a){if(void 0===t&&(t=!1),void 0===a&&(a=1),cc.log("SManager play effect with name: "+e),!this.isMute)if(e=e.toLowerCase(),this.sounds[e]){cc.log("play effect: "+e);var n=cc.audioEngine.play(this.sounds[e],t,a);this.playingSounds[e]=n}else cc.error("playEffect - clipName: "+e+" not found")},e.prototype.playRandom=function(e,t,a){if(void 0===t&&(t=!1),void 0===a&&(a=1),!this.isMute){var n=Math.floor(Math.random()*e.length),o=e[n].toLowerCase();if(this.sounds[o]){cc.log("play random: "+o);var i=cc.audioEngine.play(this.sounds[o],t,a);this.playingSounds[o]=i}else cc.error("playRandom - clipName: "+e[n]+" not found")}},e.prototype.pause=function(e){this.isMute||(e=e.toLowerCase(),void 0!=this.playingSounds[e]?cc.audioEngine.pause(this.playingSounds[e]):cc.warn("Pause sound: "+e+" is not in playing list"))},e.prototype.resume=function(e){this.isMute||(e=e.toLowerCase(),void 0!=this.playingSounds[e]?cc.audioEngine.resume(this.playingSounds[e]):cc.warn("Resume sound: "+e+" is not in playing list"))},e.prototype.stop=function(e){this.isMute||(cc.log("stop sound: "+e),e=e.toLowerCase(),void 0!=this.playingSounds[e]?(cc.audioEngine.stop(this.playingSounds[e]),delete this.playingSounds[e]):cc.warn("Stop sound: "+e+" is not in playing list"))},e.prototype.isPlaying=function(e){return e=e.toLowerCase(),void 0!=this.playingSounds[e]&&cc.audioEngine.getState(this.playingSounds[e])==cc.audioEngine.AudioState.PLAYING},e.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},e.prototype.resumeAll=function(){this.isMute||cc.audioEngine.resumeAll()},e.prototype.stopAll=function(){this.isMute||(cc.log("stop all sound"),cc.audioEngine.stopAll())},e._instance=null,e=t=__decorate([o],e)}();a.default=r,cc._RF.pop()},{"./event-manager":"event-manager","./game-messages":"game-messages"}],tick:[function(e,t,a){"use strict";cc._RF.push(t,"94d23onuiZKZ4VsR3wwaPJS","tick"),Object.defineProperty(a,"__esModule",{value:!0});var n=e("./game"),o=cc._decorator,i=o.ccclass,s=o.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ticktype=n.TickType.CROSS,t.hlframe=null,t.needDisplayHL=!1,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.needDisplayHL||(this.hlframe.enabled=!1)},t.prototype.onEnable=function(){var e=this;this.scheduleOnce(function(){e.needDisplayHL=!1,e.hlframe.enabled=!1},1.5)},t.prototype.update=function(e){},__decorate([s({type:cc.Enum(n.TickType),tooltip:"Type of player's tick"})],t.prototype,"ticktype",void 0),__decorate([s({type:cc.Sprite,tooltip:"High light frame"})],t.prototype,"hlframe",void 0),t=__decorate([i],t)}(cc.Component);a.default=r,cc._RF.pop()},{"./game":"game"}],"transport-message":[function(e,t,a){"use strict";cc._RF.push(t,"cbad9VHbZJJnYrpak8iS4Da","transport-message"),Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(){this._messages={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),e.prototype.send=function(e,t,a){void 0===a&&(a=""),this._messages[e]||(this._messages[e]={}),this._messages[e][t]=a},e.prototype.get=function(e,t,a){void 0===a&&(a=!0);var n=null;return this._messages[e]&&null!=this._messages[e][t]&&(n=this._messages[e][t],a&&delete this._messages[e][t]),n},e._instance=null,e}();a.default=n,cc._RF.pop()},{}],utils:[function(e,t,a){"use strict";cc._RF.push(t,"1cdffDVgQ5K95egXmLIXhBY","utils"),Object.defineProperty(a,"__esModule",{value:!0});var n=cc._decorator,o=(n.ccclass,n.property,function(){function e(){}return e.getDirectionRandom=function(e){return Math.floor(Math.random()*e)+0},e}());a.Utils=o,cc._RF.pop()},{}]},{},["AIPlayer","AIPlayer1","AIPlayer2","AIPlayerAttackDeep2","config","loader","popup","transport-message","entername-controller","event-manager","game-analytic","game-computer","game-messages","game","global","lb-item","Multiplayer","firebase-inst","leaderboard-db","lobby-computer","lobby-player-item","lobby","mainmenu","manager-loader","mastergamecontrol","lobby-controller","room-find","roomelement","multiplayer-inst","player-element","playerlist","player-multi","player-ref","sound-manager","tick","utils"]);